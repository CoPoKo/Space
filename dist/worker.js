!function(n){var t={};function e(r){if(t[r])return t[r].exports;var s=t[r]={i:r,l:!1,exports:{}};return n[r].call(s.exports,s,s.exports,e),s.l=!0,s.exports}e.m=n,e.c=t,e.d=function(n,t,r){e.o(n,t)||Object.defineProperty(n,t,{enumerable:!0,get:r})},e.r=function(n){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})},e.t=function(n,t){if(1&t&&(n=e(n)),8&t)return n;if(4&t&&"object"==typeof n&&n&&n.__esModule)return n;var r=Object.create(null);if(e.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:n}),2&t&&"string"!=typeof n)for(var s in n)e.d(r,s,function(t){return n[t]}.bind(null,s));return r},e.n=function(n){var t=n&&n.__esModule?function(){return n.default}:function(){return n};return e.d(t,"a",t),t},e.o=function(n,t){return Object.prototype.hasOwnProperty.call(n,t)},e.p="",e(e.s=18)}([function(n,t,e){"use strict";e.r(t),e.d(t,"dash_nav",(function(){return r}));const r=["home","search","setting"]},function(n,t){n.exports='<!DOCTYPE html>\r\n<html lang="en" class="no-js">\r\n\r\n<head>\r\n  <meta charset="UTF-8" />\r\n  <meta robots="noindex, nofollow" />\r\n  <meta http-equiv="x-dns-prefetch-control" content="on" />\r\n  <link rel="dns-prefetch" href="::PRECONNECT::" />\r\n  <link rel="preconnect" href="::PRECONNECT::" crossorigin />\r\n  <meta name="renderer" content="webkit" />\r\n  <meta name="force-rendering" content="webkit" />\r\n  <meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1" />\r\n  <meta name="HandheldFriendly" content="True" />\r\n  <meta name="apple-mobile-web-app-capable" content="yes" />\r\n  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1" />\r\n  <meta content="no-transform" http-equiv="Cache-Control" />\r\n  <meta content="no-siteapp" http-equiv="Cache-Control" />\r\n  <title>Error</title>\r\n  <link rel="icon" type="image/png" sizes="16x16" href="::CDN::/favicon/favicon-16x16.png" />\r\n  <link rel="icon" type="image/png" sizes="32x32" href="::CDN::/favicon/favicon-32x32.png" />\r\n  <link rel="icon" type="image/png" sizes="96x96" href="::CDN::/favicon/favicon-96x96.png" />\r\n  <link rel="stylesheet" type="text/css" href="::CDN::/css/error.css" />\r\n</head>\r\n\r\n<body>\r\n  <div class="container">\r\n    <div class="content">\r\n      <div id="large-header" class="large-header">\r\n        <div id="parallax-window"></div>\r\n        <canvas id="header-canvas"></canvas>\r\n      </div>\r\n      <div class="codrops-header">\r\n        <h1>Error<span>::ErrorInfo::</span></h1>\r\n      </div>\r\n    </div>\r\n    <div>\r\n      <svg class="waves" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"\r\n        viewBox="0 24 150 28" preserveAspectRatio="none" shape-rendering="auto">\r\n        <defs>\r\n          <path id="gentle-wave" d="M-160 44c30 0 58-18 88-18s 58 18 88 18 58-18 88-18 58 18 88 18 v44h-352z" />\r\n        </defs>\r\n        <g class="parallax">\r\n          <use xlink:href="#gentle-wave" x="48" y="0" fill="rgba(135,206,235,0.7)" />\r\n          <use xlink:href="#gentle-wave" x="48" y="3" fill="rgba(135,206,235,0.5)" />\r\n          <use xlink:href="#gentle-wave" x="48" y="5" fill="rgba(135,206,235,0.3)" />\r\n          <use xlink:href="#gentle-wave" x="48" y="7" fill="rgba(135,206,235,1)" />\r\n        </g>\r\n      </svg>\r\n    </div>\r\n  </div>\r\n  <script src="::CDN::/js/error.js"><\/script>\r\n</body>\r\n\r\n</html>'},function(n,t){n.exports='<!DOCTYPE html>\r\n<html lang="zh">\r\n\r\n<head>\r\n  <meta charset="UTF-8" />\r\n  <meta robots="noindex, nofollow" />\r\n  <meta http-equiv="x-dns-prefetch-control" content="on" />\r\n  <link rel="dns-prefetch" href="::PRECONNECT::" />\r\n  <link rel="preconnect" href="::PRECONNECT::" crossorigin />\r\n  <meta name="renderer" content="webkit" />\r\n  <meta name="force-rendering" content="webkit" />\r\n  <meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1" />\r\n  <meta name="HandheldFriendly" content="True" />\r\n  <meta name="apple-mobile-web-app-capable" content="yes" />\r\n  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1" />\r\n  <title>Auth | CoPoKo Space</title>\r\n  <link rel="icon" type="image/png" sizes="16x16" href="::CDN::/favicon/favicon-16x16.png" />\r\n  <link rel="icon" type="image/png" sizes="32x32" href="::CDN::/favicon/favicon-32x32.png" />\r\n  <link rel="icon" type="image/png" sizes="96x96" href="::CDN::/favicon/favicon-96x96.png" />\r\n  <link rel="stylesheet" href="::CDN::/css/auth.css" />\r\n  <style>\r\n    .grecaptcha-badge {\r\n      display: none;\r\n    }\r\n  </style>\r\n</head>\r\n\r\n<body>\r\n  <main class="auth-main wrapper">\r\n    <div id="auth-block" class="auth-block">\r\n      <h1>Welcome</h1>\r\n      <div id="form" class="form-horizontal" method="POST" action="/space/auth">\r\n        <div class="form-group">\r\n          <label for="inputName" class="col-sm-2 control-label">Name</label>\r\n          <div class="col-sm-10">\r\n            <input type="text" name="name" class="form-control" id="inputName" placeholder="Name" required="required"\r\n              autocomplete="off" />\r\n          </div>\r\n        </div>\r\n        <div class="form-group">\r\n          <label for="inputPassword" class="col-sm-2 control-label">Password</label>\r\n          <div class="col-sm-10">\r\n            <input type="password" name="password" class="form-control" id="inputPassword" placeholder="Password"\r\n              required="required" autocomplete="off" />\r\n          </div>\r\n        </div>\r\n        <div class="form-group">\r\n          <div class="col-sm-offset-5 col-sm-10">\r\n            <button type="submit" id="signin" class="btn btn-default btn-auth">\r\n              Sign in\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <ul class="bg-bubbles">\r\n      <li></li>\r\n      <li></li>\r\n      <li></li>\r\n      <li></li>\r\n      <li></li>\r\n      <li></li>\r\n      <li></li>\r\n      <li></li>\r\n      <li></li>\r\n      <li></li>\r\n    </ul>\r\n  </main>\r\n  <script src="https://recaptcha.net/recaptcha/api.js?render=::reCAPTCHA_CLIENT::"><\/script>\r\n  <script>\r\n    document.getElementById("signin").addEventListener("click", async () => {\r\n      const name = document.getElementById("inputName").value;\r\n      const password = document.getElementById("inputPassword").value;\r\n      document.getElementById("auth-block").innerHTML =\r\n        "<h1>我们正在进行人机验证...</h1>";\r\n      grecaptcha.ready(() => {\r\n        grecaptcha\r\n          .execute("::reCAPTCHA_CLIENT::", { action: "space" })\r\n          .then(async (t) => {\r\n            document.getElementById("auth-block").innerHTML =\r\n              "<h1>我们正在验证您的登录凭据...</h1>";\r\n            const res = await (\r\n              await fetch(\r\n                new Request("/space/auth", {\r\n                  method: "POST",\r\n                  headers: {\r\n                    "Content-Type": "application/x-www-form-urlencoded",\r\n                  },\r\n                  body: `name=${name}&password=${password}&token=${t}`,\r\n                })\r\n              )\r\n            ).json();\r\n            if (res.success) {\r\n              document.getElementById("auth-block").innerHTML =\r\n                "<h1>登录成功，即将跳转！</h1>";\r\n              document.cookie = res.cookie;\r\n              document.location.href = `${document.location.origin}/space/dash`;\r\n            } else {\r\n              document.getElementById("auth-block").innerHTML =\r\n                "<h1>无效的登录凭据 :(</h1>";\r\n            }\r\n          });\r\n      });\r\n    });\r\n  <\/script>\r\n</body>\r\n\r\n</html>'},function(n,t){n.exports="User-agent: * \r\nDisallow: /"},function(n,t){n.exports='<!DOCTYPE html>\n<html lang="en">\n<head>\n  <meta charset="utf-8">\n  <meta robots="noindex, nofollow" />\n  <meta name="viewport" content="width=device-width, initial-scale=1">\n  <title>CoPoKo Space</title>\n\n  \x3c!-- Google Font: Source Sans Pro --\x3e\n  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Source+Sans+Pro:300,400,400i,700&display=fallback">\n  \x3c!-- Font Awesome Icons --\x3e\n  <link rel="stylesheet" href="https://fastly.jsdelivr.net/npm/@fortawesome/fontawesome-free@6/css/all.min.css">\n  \x3c!-- overlayScrollbars --\x3e\n  <link rel="stylesheet" href="https://fastly.jsdelivr.net/npm/overlayscrollbars@1.13.1/css/OverlayScrollbars.min.css">\n  \x3c!-- Theme style --\x3e\n  <link rel="stylesheet" href="https://fastly.jsdelivr.net/npm/admin-lte@3.1.0/dist/css/adminlte.min.css">\n  <style>\n    .brand-text{\n      text-align: center !important;\n      display: block !important;\n    }\n  </style>\n</head>\n<body class="hold-transition dark-mode sidebar-mini layout-fixed layout-navbar-fixed layout-footer-fixed">\n<div class="wrapper">\n\n  \x3c!-- Navbar --\x3e\n  <nav class="main-header navbar navbar-expand navbar-dark">\n    \x3c!-- Left navbar links --\x3e\n    <ul class="navbar-nav">\n      <li class="nav-item">\n        <a class="nav-link" data-widget="pushmenu" href="#" role="button"><i class="fas fa-bars"></i></a>\n      </li>\n    </ul>\n\n    \x3c!-- Right navbar links --\x3e\n    <ul class="navbar-nav ml-auto">\n\n    </ul>\n  </nav>\n  \x3c!-- /.navbar --\x3e\n\n  \x3c!-- Main Sidebar Container --\x3e\n  <aside class="main-sidebar sidebar-dark-primary elevation-4">\n    \x3c!-- Brand Logo --\x3e\n    <a href="/space/dash" class="brand-link">\n      <span class="brand-text font-weight-light">CoPoKo Space</span>\n    </a>\n\n    \x3c!-- Sidebar --\x3e\n    <div class="sidebar">\n\n      \x3c!-- Sidebar Menu --\x3e\n      <nav class="mt-2">\n        <ul class="nav nav-pills nav-sidebar flex-column" data-widget="treeview" role="menu" data-accordion="false">\n          ::DASH_NAV::\n        </ul>\n      </nav>\n      \x3c!-- /.sidebar-menu --\x3e\n\n  \n    </div>\n    \x3c!-- /.sidebar --\x3e\n  </aside>\n\n  \x3c!-- Content Wrapper. Contains page content --\x3e\n  <div class="content-wrapper">\n    \x3c!-- Main content --\x3e\n    ::DASH_CONTENT::\n    \x3c!-- /.content --\x3e\n  </div>\n  \x3c!-- /.content-wrapper --\x3e\n\n</div>\n\x3c!-- ./wrapper --\x3e\n\n\x3c!-- REQUIRED SCRIPTS --\x3e\n\x3c!-- jQuery --\x3e\n<script src="https://fastly.jsdelivr.net/npm/jquery@3.6.0/dist/jquery.min.js"><\/script>\n\x3c!-- Bootstrap --\x3e\n<script src="https://fastly.jsdelivr.net/npm/bootstrap@5.1.0/dist/js/bootstrap.bundle.min.js"><\/script>\n\x3c!-- overlayScrollbars --\x3e\n<script src="https://fastly.jsdelivr.net/npm/overlayscrollbars@1.13.1/js/jquery.overlayScrollbars.min.js"><\/script>\n\x3c!-- AdminLTE App --\x3e\n<script src="https://fastly.jsdelivr.net/npm/admin-lte@3.1.0/dist/js/adminlte.min.js"><\/script>\n\n\n\n</body>\n</html>\n'},function(n,t,e){"use strict";e.r(t),e.d(t,"space_static_version",(function(){return r})),e.d(t,"space_cdn",(function(){return s})),e.d(t,"space_dns_prefetch",(function(){return a}));const r="1.0.1653038935402",s="https://fastly.jsdelivr.net/npm",a="https://fastly.jsdelivr.net"},function(n,t,e){var r={"./home/nav-item.html":7,"./search/nav-item.html":8,"./setting/nav-item.html":9};function s(n){var t=a(n);return e(t)}function a(n){if(!e.o(r,n)){var t=new Error("Cannot find module '"+n+"'");throw t.code="MODULE_NOT_FOUND",t}return r[n]}s.keys=function(){return Object.keys(r)},s.resolve=a,n.exports=s,s.id=6},function(n,t){n.exports=""},function(n,t){n.exports='<li class="nav-item">\r\n  <a href="/space/dash/search" class="nav-link">\r\n    <i class="nav-icon fas fa-search"></i>\r\n    <p>\r\n      Search\r\n    </p>\r\n  </a>\r\n</li>'},function(n,t){n.exports='<li class="nav-item">\r\n  <a href="/space/dash/setting" class="nav-link">\r\n    <i class="nav-icon fas fa-gear"></i>\r\n    <p>\r\n      Setting\r\n    </p>\r\n  </a>\r\n</li>'},function(n,t,e){var r={"./home/content.html":11,"./search/content.html":12,"./setting/content.html":13};function s(n){var t=a(n);return e(t)}function a(n){if(!e.o(r,n)){var t=new Error("Cannot find module '"+n+"'");throw t.code="MODULE_NOT_FOUND",t}return r[n]}s.keys=function(){return Object.keys(r)},s.resolve=a,n.exports=s,s.id=10},function(n,t){n.exports='<div class="container-fluid">\r\n  <h2 class="text-center display-4">Home</h2>\r\n</div>'},function(n,t){n.exports='\x3c!-- Content Header (Page header) --\x3e\r\n<section class="content-header">\r\n  <div class="container-fluid">\r\n    <h2 class="text-center display-4">Search</h2>\r\n  </div>\r\n</section>\r\n\r\n\x3c!-- Main content --\x3e\r\n<section class="content">\r\n  <div class="container-fluid">\r\n    <div class="row">\r\n      <div class="col-md-8 offset-md-2">\r\n        <form action="simple-results.html">\r\n          <div class="input-group input-group-lg">\r\n            <input type="search" class="form-control form-control-lg" placeholder="Type your keywords here">\r\n            <div class="input-group-append">\r\n              <button type="submit" class="btn btn-lg btn-default">\r\n                <i class="fa fa-search"></i>\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </form>\r\n      </div>\r\n    </div>\r\n    <div class="row mt-3">\r\n      <div class="col-md-10 offset-md-1">\r\n        <div class="list-group">\r\n\r\n          <div class="list-group-item">\r\n            <div class="row">\r\n              <div class="col px-4">\r\n                <div>\r\n                  <h3>Lorem ipsum dolor sit amet</h3>\r\n                  <p class="mb-0">consectetuer adipiscing elit. Aenean commodo ligula eget dolor. Aenean massa. Cum\r\n                    sociis natoque penatibus et magnis dis parturient montes, nascetur ridiculus mus.</p>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n        </div>\r\n      </div>\r\n    </div>\r\n</section>'},function(n,t){n.exports='\x3c!-- Content Header (Page header) --\x3e\r\n<section class="content-header">\r\n  <div class="container-fluid">\r\n    <h2 class="text-center display-4">Setting</h2>\r\n  </div>\r\n</section>\r\n\r\n\x3c!-- Main content --\x3e\r\n<section class="content">\r\n  <div class="card collapsed-card">\r\n    <div class="card-header">\r\n      <h3 class="card-title">Project</h3>\r\n      <div class="card-tools">\r\n        <button type="button" class="btn btn-tool" data-card-widget="collapse" title="Collapse">\r\n          <i class="fas fa-plus"></i>\r\n        </button>\r\n        <button type="button" class="btn btn-tool" data-card-widget="remove" title="Remove">\r\n          <i class="fas fa-times"></i>\r\n        </button>\r\n      </div>\r\n    </div>\r\n    <div class="card-body p-0" style="display: none;">\r\n      <table class="table table-striped projects">\r\n        <thead>\r\n          <tr>\r\n            <th>Key</th>\r\n            <th>Value</th>\r\n            <th style="width: 20%"></th>\r\n          </tr>\r\n        </thead>\r\n        <tbody>\r\n          <tr>\r\n            <td>\r\n              <p>Key1</p>\r\n            </td>\r\n            <td>\r\n              <p>Value1</p>\r\n            </td>\r\n            <td class="project-actions text-right">\r\n              <a class="btn btn-info btn-sm" href="#">\r\n                <i class="fas fa-pencil-alt"> </i>\r\n                Edit\r\n              </a>\r\n              <a class="btn btn-danger btn-sm" href="#">\r\n                <i class="fas fa-trash"> </i>\r\n                Delete\r\n              </a>\r\n            </td>\r\n          </tr>\r\n        </tbody>\r\n      </table>\r\n      <button type="button" class="btn btn-block btn-primary btn-lg">Add KV</button>\r\n    </div>\r\n    \x3c!-- /.card-body --\x3e\r\n  </div>\r\n  <button type="button" class="btn btn-block btn-primary btn-lg">Add Project</button>\r\n</section>'},function(n,t,e){var r;n.exports=(r=e(15),function(n){var t=r,e=t.lib,s=e.WordArray,a=e.Hasher,i=t.algo,o=[],c=[];!function(){function t(t){for(var e=n.sqrt(t),r=2;r<=e;r++)if(!(t%r))return!1;return!0}function e(n){return 4294967296*(n-(0|n))|0}for(var r=2,s=0;s<64;)t(r)&&(s<8&&(o[s]=e(n.pow(r,.5))),c[s]=e(n.pow(r,1/3)),s++),r++}();var l=[],d=i.SHA256=a.extend({_doReset:function(){this._hash=new s.init(o.slice(0))},_doProcessBlock:function(n,t){for(var e=this._hash.words,r=e[0],s=e[1],a=e[2],i=e[3],o=e[4],d=e[5],h=e[6],u=e[7],p=0;p<64;p++){if(p<16)l[p]=0|n[t+p];else{var f=l[p-15],m=(f<<25|f>>>7)^(f<<14|f>>>18)^f>>>3,v=l[p-2],y=(v<<15|v>>>17)^(v<<13|v>>>19)^v>>>10;l[p]=m+l[p-7]+y+l[p-16]}var g=r&s^r&a^s&a,b=(r<<30|r>>>2)^(r<<19|r>>>13)^(r<<10|r>>>22),w=u+((o<<26|o>>>6)^(o<<21|o>>>11)^(o<<7|o>>>25))+(o&d^~o&h)+c[p]+l[p];u=h,h=d,d=o,o=i+w|0,i=a,a=s,s=r,r=w+(b+g)|0}e[0]=e[0]+r|0,e[1]=e[1]+s|0,e[2]=e[2]+a|0,e[3]=e[3]+i|0,e[4]=e[4]+o|0,e[5]=e[5]+d|0,e[6]=e[6]+h|0,e[7]=e[7]+u|0},_doFinalize:function(){var t=this._data,e=t.words,r=8*this._nDataBytes,s=8*t.sigBytes;return e[s>>>5]|=128<<24-s%32,e[14+(s+64>>>9<<4)]=n.floor(r/4294967296),e[15+(s+64>>>9<<4)]=r,t.sigBytes=4*e.length,this._process(),this._hash},clone:function(){var n=a.clone.call(this);return n._hash=this._hash.clone(),n}});t.SHA256=a._createHelper(d),t.HmacSHA256=a._createHmacHelper(d)}(Math),r.SHA256)},function(n,t,e){(function(t){var r;n.exports=(r=r||function(n,r){var s;if("undefined"!=typeof window&&window.crypto&&(s=window.crypto),"undefined"!=typeof self&&self.crypto&&(s=self.crypto),"undefined"!=typeof globalThis&&globalThis.crypto&&(s=globalThis.crypto),!s&&"undefined"!=typeof window&&window.msCrypto&&(s=window.msCrypto),!s&&void 0!==t&&t.crypto&&(s=t.crypto),!s)try{s=e(17)}catch(n){}var a=function(){if(s){if("function"==typeof s.getRandomValues)try{return s.getRandomValues(new Uint32Array(1))[0]}catch(n){}if("function"==typeof s.randomBytes)try{return s.randomBytes(4).readInt32LE()}catch(n){}}throw new Error("Native crypto module could not be used to get secure random number.")},i=Object.create||function(){function n(){}return function(t){var e;return n.prototype=t,e=new n,n.prototype=null,e}}(),o={},c=o.lib={},l=c.Base={extend:function(n){var t=i(this);return n&&t.mixIn(n),t.hasOwnProperty("init")&&this.init!==t.init||(t.init=function(){t.$super.init.apply(this,arguments)}),t.init.prototype=t,t.$super=this,t},create:function(){var n=this.extend();return n.init.apply(n,arguments),n},init:function(){},mixIn:function(n){for(var t in n)n.hasOwnProperty(t)&&(this[t]=n[t]);n.hasOwnProperty("toString")&&(this.toString=n.toString)},clone:function(){return this.init.prototype.extend(this)}},d=c.WordArray=l.extend({init:function(n,t){n=this.words=n||[],this.sigBytes=null!=t?t:4*n.length},toString:function(n){return(n||u).stringify(this)},concat:function(n){var t=this.words,e=n.words,r=this.sigBytes,s=n.sigBytes;if(this.clamp(),r%4)for(var a=0;a<s;a++){var i=e[a>>>2]>>>24-a%4*8&255;t[r+a>>>2]|=i<<24-(r+a)%4*8}else for(var o=0;o<s;o+=4)t[r+o>>>2]=e[o>>>2];return this.sigBytes+=s,this},clamp:function(){var t=this.words,e=this.sigBytes;t[e>>>2]&=4294967295<<32-e%4*8,t.length=n.ceil(e/4)},clone:function(){var n=l.clone.call(this);return n.words=this.words.slice(0),n},random:function(n){for(var t=[],e=0;e<n;e+=4)t.push(a());return new d.init(t,n)}}),h=o.enc={},u=h.Hex={stringify:function(n){for(var t=n.words,e=n.sigBytes,r=[],s=0;s<e;s++){var a=t[s>>>2]>>>24-s%4*8&255;r.push((a>>>4).toString(16)),r.push((15&a).toString(16))}return r.join("")},parse:function(n){for(var t=n.length,e=[],r=0;r<t;r+=2)e[r>>>3]|=parseInt(n.substr(r,2),16)<<24-r%8*4;return new d.init(e,t/2)}},p=h.Latin1={stringify:function(n){for(var t=n.words,e=n.sigBytes,r=[],s=0;s<e;s++){var a=t[s>>>2]>>>24-s%4*8&255;r.push(String.fromCharCode(a))}return r.join("")},parse:function(n){for(var t=n.length,e=[],r=0;r<t;r++)e[r>>>2]|=(255&n.charCodeAt(r))<<24-r%4*8;return new d.init(e,t)}},f=h.Utf8={stringify:function(n){try{return decodeURIComponent(escape(p.stringify(n)))}catch(n){throw new Error("Malformed UTF-8 data")}},parse:function(n){return p.parse(unescape(encodeURIComponent(n)))}},m=c.BufferedBlockAlgorithm=l.extend({reset:function(){this._data=new d.init,this._nDataBytes=0},_append:function(n){"string"==typeof n&&(n=f.parse(n)),this._data.concat(n),this._nDataBytes+=n.sigBytes},_process:function(t){var e,r=this._data,s=r.words,a=r.sigBytes,i=this.blockSize,o=a/(4*i),c=(o=t?n.ceil(o):n.max((0|o)-this._minBufferSize,0))*i,l=n.min(4*c,a);if(c){for(var h=0;h<c;h+=i)this._doProcessBlock(s,h);e=s.splice(0,c),r.sigBytes-=l}return new d.init(e,l)},clone:function(){var n=l.clone.call(this);return n._data=this._data.clone(),n},_minBufferSize:0}),v=(c.Hasher=m.extend({cfg:l.extend(),init:function(n){this.cfg=this.cfg.extend(n),this.reset()},reset:function(){m.reset.call(this),this._doReset()},update:function(n){return this._append(n),this._process(),this},finalize:function(n){return n&&this._append(n),this._doFinalize()},blockSize:16,_createHelper:function(n){return function(t,e){return new n.init(e).finalize(t)}},_createHmacHelper:function(n){return function(t,e){return new v.HMAC.init(n,e).finalize(t)}}}),o.algo={});return o}(Math),r)}).call(this,e(16))},function(n,t){var e;e=function(){return this}();try{e=e||new Function("return this")()}catch(n){"object"==typeof window&&(e=window)}n.exports=e},function(n,t){},function(n,t,e){"use strict";e.r(t);var r={js:{headers:{"content-type":"application/javascript; charset=utf-8","Access-Control-Allow-Origin":"*"}},html:{headers:{"content-type":"text/html; charset=utf-8","Access-Control-Allow-Origin":"*"}},json:{headers:{"content-type":"application/json; charset=utf-8","Access-Control-Allow-Origin":"*"}},stream:{headers:{"content-type":"application/octet-stream","Access-Control-Allow-Origin":"*"}},xml:{headers:{"content-type":"application/xml; charset=utf-8","Access-Control-Allow-Origin":"*"}},text:{headers:{"content-type":"text/plain; charset=utf-8","Access-Control-Allow-Origin":"*"}}};var s=async function(n){return new Response(P.renderers.erorr.replace(/::ErrorInfo::/g,n),P.helpers.headers.html)};var a={headers:r,ErrorResponse:s,Router:class{constructor(n){this.event=n,this.request=this.event.request,this.urlObj=new URL(this.request.url),this.pathname=this.urlObj.pathname,this.searchParams=this.urlObj.searchParams,this.method=this.request.method,this.ip=this.request.headers.get("CF-Connecting-IP")||this.request.headers.get("x-real-ip"),this.status={action:0,filterPath:0,auth:0,path:0},this.setStatus=(n,t)=>(this.status[n]=t,this),this.getParam=n=>this.searchParams.get(n),this.get=n=>(this.status.action||this.status.filterPath||"GET"==this.method&&this.pathname.startsWith(n)&&(this.status.filterPath=1,this.status.path=n),this),this.post=n=>(this.status.action||this.status.filterPath||"POST"==this.method&&this.pathname.startsWith(n)&&(this.status.filterPath=1,this.status.path=n),this),this.action=function(n){return this.status.action||this.status.filterPath&&(this.status.action=1,this.run=async()=>await n(this)),this}}},cookie:{set:async function(n,t,e,r="/"){return n.headers.append("Set-Cookie",`${t}=${e}; path=${r};Max-Age=86400`),n},get:async function(n,t){const e=n.headers.get("Cookie");if(!e)return"";const r=t+"=",s=e.indexOf(r);if(-1===s)return"";const a=e.substring(s+r.length,e.length),i=a.indexOf(";");return-1===i?a:a.substring(0,i)}},readRequest:{Body:async function(n){const{headers:t}=n,e=t.get("content-type")||"";if(e.includes("application/json"))return JSON.stringify(await n.json());if(e.includes("application/text"))return await n.text();if(e.includes("text/html"))return await n.text();if(e.includes("form")){const t=await n.formData(),e={};for(const n of t.entries())e[n[0]]=n[1];return JSON.stringify(e)}return await n.blob()}},captcha:{recaptcha:async(n,t,e)=>{let r=await fetch(new Request("https://www.google.com/recaptcha/api/siteverify",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:`secret=${n}&response=${t}&remoteip=${e}`}));return r=await r.json(),!!(r.success&&r.score>=.6)}}},i=e(1),o=e.n(i),c=e(2),l=e.n(c),d=e(3),h=e.n(d),u=e(4),p=e.n(u);const{space_static_version:f,space_cdn:m,space_dns_prefetch:v}=e(5);function y(n){return n=(n=n.replace(/::CDN::/g,m+"/@copoko/space-static@"+f)).replace(/::PRECONNECT::/g,v)}const{dash_nav:g}=e(0);let b="";g.forEach(n=>{b+=e(6)(`./${n}/nav-item.html`)});let w={};g.forEach(n=>{w[n]=function(n){let t=p.a.replace(/::DASH_NAV::/g,b);return t=t.replace(/::DASH_CONTENT::/g,e(10)(`./${n}/content.html`)),t}(n)});var x={erorr:y(o.a),auth:y(l.a),robots:h.a,dash:w};let C=e(14);var S={CheckAuth:async function(n){let t=await P.helpers.readRequest.Body(n.request);t=JSON.parse(t);let e=t.token,r=reCAPTCHA_SERVER,s=n.ip;if(await P.helpers.captcha.recaptcha(r,e,s)){let n=`${C(SpaceName).toString()}::${C(SpacePassword).toString()}`,e=`${C(t.name).toString()}::${C(t.password).toString()}`;if(e==n)return new Response(JSON.stringify({success:1,cookie:"_copoko_space_cookie_auth="+e}),P.helpers.headers.json)}return new Response(JSON.stringify({success:0}),P.helpers.headers.json)},CheckCookieAuth:async function(n){return P.helpers.cookie.get(n.request,"_copoko_space_cookie_auth").then(async n=>{if(n){if(n==`${C(SpaceName).toString()}::${C(SpacePassword).toString()}`)return"PASS"}return await P.helpers.ErrorResponse("NO PERMISSION TO ACCESS THE SERVICE")})},AuthPage:async function(n){return new Response(P.renderers.auth.replace(/::reCAPTCHA_CLIENT::/g,reCAPTCHA_CLIENT),P.helpers.headers.html)}};var k=async function(n){return new Response(P.renderers.robots,P.helpers.headers.text)};function _(n){return new Response(P.renderers.dash[n.status.path.replace("/space/dash/","")],P.helpers.headers.html)}const{dash_nav:A}=e(0);let E={};A.forEach(n=>{E[n]=_});var P={helpers:a,renderers:x,actions:{Auth:S,Robots:k,Dash:E}};var j=async function(n){try{let t=new P.helpers.Router(n);if(t.get("/robots.txt").action(P.actions.Robots),t.get("/"+START).action(P.actions.Auth.AuthPage),t.post("/space/auth").action(P.actions.Auth.CheckAuth),!t.status.action){let e=await P.actions.Auth.CheckCookieAuth(n);if("PASS"!=e)return e;t.setStatus("auth",1)}const{dash_nav:r}=e(0);return r.forEach(n=>{t.get("/space/dash/"+n).action(P.actions.Dash[n])}),t.status.action?await t.run():t.status.auth&&n.request.url!=`https://${n.request.url.split("/")[2]}/space/dash/home`?Response.redirect(`https://${n.request.url.split("/")[2]}/space/dash/home`,302):await P.helpers.ErrorResponse("Ooops...")}catch(n){return await P.helpers.ErrorResponse(n)}};addEventListener("fetch",n=>{n.respondWith(j(n).catch(n=>new Response(n.stack,{status:500})))})}]);