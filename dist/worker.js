!function(n){var e={};function t(r){if(e[r])return e[r].exports;var s=e[r]={i:r,l:!1,exports:{}};return n[r].call(s.exports,s,s.exports,t),s.l=!0,s.exports}t.m=n,t.c=e,t.d=function(n,e,r){t.o(n,e)||Object.defineProperty(n,e,{enumerable:!0,get:r})},t.r=function(n){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})},t.t=function(n,e){if(1&e&&(n=t(n)),8&e)return n;if(4&e&&"object"==typeof n&&n&&n.__esModule)return n;var r=Object.create(null);if(t.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:n}),2&e&&"string"!=typeof n)for(var s in n)t.d(r,s,function(e){return n[e]}.bind(null,s));return r},t.n=function(n){var e=n&&n.__esModule?function(){return n.default}:function(){return n};return t.d(e,"a",e),e},t.o=function(n,e){return Object.prototype.hasOwnProperty.call(n,e)},t.p="",t(t.s=23)}([function(n,e,t){"use strict";t.r(e),t.d(e,"dash_nav",(function(){return r}));const r=["home","search","setting"]},function(n,e){n.exports='<!DOCTYPE html>\r\n<html lang="en" class="no-js">\r\n\r\n<head>\r\n  <meta charset="UTF-8" />\r\n  <meta robots="noindex, nofollow" />\r\n  <meta http-equiv="x-dns-prefetch-control" content="on" />\r\n  <link rel="dns-prefetch" href="::PRECONNECT::" />\r\n  <link rel="preconnect" href="::PRECONNECT::" crossorigin />\r\n  <meta name="renderer" content="webkit" />\r\n  <meta name="force-rendering" content="webkit" />\r\n  <meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1" />\r\n  <meta name="HandheldFriendly" content="True" />\r\n  <meta name="apple-mobile-web-app-capable" content="yes" />\r\n  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1" />\r\n  <meta content="no-transform" http-equiv="Cache-Control" />\r\n  <meta content="no-siteapp" http-equiv="Cache-Control" />\r\n  <title>Error</title>\r\n  <link rel="icon" type="image/png" sizes="16x16" href="::CDN::/favicon/favicon-16x16.png" />\r\n  <link rel="icon" type="image/png" sizes="32x32" href="::CDN::/favicon/favicon-32x32.png" />\r\n  <link rel="icon" type="image/png" sizes="96x96" href="::CDN::/favicon/favicon-96x96.png" />\r\n  <link rel="stylesheet" type="text/css" href="::CDN::/css/error.css" />\r\n</head>\r\n\r\n<body>\r\n  <div class="container">\r\n    <div class="content">\r\n      <div id="large-header" class="large-header">\r\n        <div id="parallax-window"></div>\r\n        <canvas id="header-canvas"></canvas>\r\n      </div>\r\n      <div class="codrops-header">\r\n        <h1>Error<span>::ErrorInfo::</span></h1>\r\n      </div>\r\n    </div>\r\n    <div>\r\n      <svg class="waves" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"\r\n        viewBox="0 24 150 28" preserveAspectRatio="none" shape-rendering="auto">\r\n        <defs>\r\n          <path id="gentle-wave" d="M-160 44c30 0 58-18 88-18s 58 18 88 18 58-18 88-18 58 18 88 18 v44h-352z" />\r\n        </defs>\r\n        <g class="parallax">\r\n          <use xlink:href="#gentle-wave" x="48" y="0" fill="rgba(135,206,235,0.7)" />\r\n          <use xlink:href="#gentle-wave" x="48" y="3" fill="rgba(135,206,235,0.5)" />\r\n          <use xlink:href="#gentle-wave" x="48" y="5" fill="rgba(135,206,235,0.3)" />\r\n          <use xlink:href="#gentle-wave" x="48" y="7" fill="rgba(135,206,235,1)" />\r\n        </g>\r\n      </svg>\r\n    </div>\r\n  </div>\r\n  <script src="::CDN::/js/error.js"><\/script>\r\n</body>\r\n\r\n</html>'},function(n,e){n.exports='<!DOCTYPE html>\r\n<html lang="zh">\r\n\r\n<head>\r\n  <meta charset="UTF-8" />\r\n  <meta robots="noindex, nofollow" />\r\n  <meta http-equiv="x-dns-prefetch-control" content="on" />\r\n  <link rel="dns-prefetch" href="::PRECONNECT::" />\r\n  <link rel="preconnect" href="::PRECONNECT::" crossorigin />\r\n  <meta name="renderer" content="webkit" />\r\n  <meta name="force-rendering" content="webkit" />\r\n  <meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1" />\r\n  <meta name="HandheldFriendly" content="True" />\r\n  <meta name="apple-mobile-web-app-capable" content="yes" />\r\n  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1" />\r\n  <title>Auth | CoPoKo Space</title>\r\n  <link rel="icon" type="image/png" sizes="16x16" href="::CDN::/favicon/favicon-16x16.png" />\r\n  <link rel="icon" type="image/png" sizes="32x32" href="::CDN::/favicon/favicon-32x32.png" />\r\n  <link rel="icon" type="image/png" sizes="96x96" href="::CDN::/favicon/favicon-96x96.png" />\r\n  <link rel="stylesheet" href="::CDN::/css/auth.css" />\r\n  <style>\r\n    .grecaptcha-badge {\r\n      display: none;\r\n    }\r\n  </style>\r\n</head>\r\n\r\n<body>\r\n  <main class="auth-main wrapper">\r\n    <div id="auth-block" class="auth-block">\r\n      <h1>Welcome</h1>\r\n      <div id="form" class="form-horizontal" method="POST" action="/space/auth">\r\n        <div class="form-group">\r\n          <label for="inputName" class="col-sm-2 control-label">Name</label>\r\n          <div class="col-sm-10">\r\n            <input type="text" name="name" class="form-control" id="inputName" placeholder="Name" required="required"\r\n              autocomplete="off" />\r\n          </div>\r\n        </div>\r\n        <div class="form-group">\r\n          <label for="inputPassword" class="col-sm-2 control-label">Password</label>\r\n          <div class="col-sm-10">\r\n            <input type="password" name="password" class="form-control" id="inputPassword" placeholder="Password"\r\n              required="required" autocomplete="off" />\r\n          </div>\r\n        </div>\r\n        <div class="form-group">\r\n          <div class="col-sm-offset-5 col-sm-10">\r\n            <button type="submit" id="signin" class="btn btn-default btn-auth">\r\n              Sign in\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <ul class="bg-bubbles">\r\n      <li></li>\r\n      <li></li>\r\n      <li></li>\r\n      <li></li>\r\n      <li></li>\r\n      <li></li>\r\n      <li></li>\r\n      <li></li>\r\n      <li></li>\r\n      <li></li>\r\n    </ul>\r\n  </main>\r\n  <script src="https://recaptcha.net/recaptcha/api.js?render=::reCAPTCHA_CLIENT::"><\/script>\r\n  <script>\r\n    document.getElementById("signin").addEventListener("click", async () => {\r\n      const name = document.getElementById("inputName").value;\r\n      const password = document.getElementById("inputPassword").value;\r\n      document.getElementById("auth-block").innerHTML =\r\n        "<h1>我们正在进行人机验证...</h1>";\r\n      grecaptcha.ready(() => {\r\n        grecaptcha\r\n          .execute("::reCAPTCHA_CLIENT::", { action: "space" })\r\n          .then(async (t) => {\r\n            document.getElementById("auth-block").innerHTML =\r\n              "<h1>我们正在验证您的登录凭据...</h1>";\r\n            const res = await (\r\n              await fetch(\r\n                new Request("/space/auth", {\r\n                  method: "POST",\r\n                  headers: {\r\n                    "Content-Type": "application/x-www-form-urlencoded",\r\n                  },\r\n                  body: `name=${name}&password=${password}&token=${t}`,\r\n                })\r\n              )\r\n            ).json();\r\n            if (res.success) {\r\n              document.getElementById("auth-block").innerHTML =\r\n                "<h1>登录成功，即将跳转！</h1>";\r\n              document.cookie = res.cookie;\r\n              document.location.href = `${document.location.origin}/space/dash`;\r\n            } else {\r\n              document.getElementById("auth-block").innerHTML =\r\n                "<h1>无效的登录凭据 :(</h1>";\r\n            }\r\n          });\r\n      });\r\n    });\r\n  <\/script>\r\n</body>\r\n\r\n</html>'},function(n,e){n.exports="User-agent: * \r\nDisallow: /"},function(n,e){n.exports='<!DOCTYPE html>\n<html lang="en">\n<head>\n  <meta charset="utf-8">\n  <meta robots="noindex, nofollow" />\n  <meta name="viewport" content="width=device-width, initial-scale=1">\n  <title>CoPoKo Space</title>\n  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Source+Sans+Pro:300,400,400i,700&display=fallback">\n  <link rel="stylesheet" href="https://fastly.jsdelivr.net/npm/@fortawesome/fontawesome-free@6/css/all.min.css">\n  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@sweetalert2/theme-bootstrap-4@5.0.11/bootstrap-4.min.css">\n  <link rel="stylesheet" href="https://fastly.jsdelivr.net/npm/admin-lte@3.1.0/dist/css/adminlte.min.css">\n  <style>\n    ::-webkit-scrollbar-track-piece {\n      background-color: #f8f8f8;\n    }\n    ::-webkit-scrollbar {\n      width: 9px;\n      height: 9px;\n    }\n    ::-webkit-scrollbar-thumb {\n      background-color: #49b1f5;\n      background-image: -webkit--webkit-linear-gradient(\n        45deg,\n        rgba(255, 255, 255, 0.4) 25%,\n        transparent 25%,\n        transparent 50%,\n        rgba(255, 255, 255, 0.4) 50%,\n        rgba(255, 255, 255, 0.4) 75%,\n        transparent 75%,\n        transparent\n      );\n      background-image: -webkit--moz-linear-gradient(\n        45deg,\n        rgba(255, 255, 255, 0.4) 25%,\n        transparent 25%,\n        transparent 50%,\n        rgba(255, 255, 255, 0.4) 50%,\n        rgba(255, 255, 255, 0.4) 75%,\n        transparent 75%,\n        transparent\n      );\n      background-image: -webkit--o-linear-gradient(\n        45deg,\n        rgba(255, 255, 255, 0.4) 25%,\n        transparent 25%,\n        transparent 50%,\n        rgba(255, 255, 255, 0.4) 50%,\n        rgba(255, 255, 255, 0.4) 75%,\n        transparent 75%,\n        transparent\n      );\n      background-image: -webkit--ms-linear-gradient(\n        45deg,\n        rgba(255, 255, 255, 0.4) 25%,\n        transparent 25%,\n        transparent 50%,\n        rgba(255, 255, 255, 0.4) 50%,\n        rgba(255, 255, 255, 0.4) 75%,\n        transparent 75%,\n        transparent\n      );\n      background-image: -webkit-linear-gradient(\n        45deg,\n        rgba(255, 255, 255, 0.4) 25%,\n        transparent 25%,\n        transparent 50%,\n        rgba(255, 255, 255, 0.4) 50%,\n        rgba(255, 255, 255, 0.4) 75%,\n        transparent 75%,\n        transparent\n      );\n      border-radius: 2em;\n    }\n    ::-webkit-scrollbar-thumb:hover {\n      background-color: #49b1f6;\n    }\n    .brand-text{\n      text-align: center !important;\n      display: block !important;\n    }\n    input{\n      color: inherit !important;\n    }\n  </style>\n</head>\n<body class="hold-transition dark-mode sidebar-mini layout-fixed layout-navbar-fixed layout-footer-fixed">\n<div class="wrapper">\n\n  \x3c!-- Navbar --\x3e\n  <nav class="main-header navbar navbar-expand navbar-dark">\n    \x3c!-- Left navbar links --\x3e\n    <ul class="navbar-nav">\n      <li class="nav-item">\n        <a class="nav-link" data-widget="pushmenu" href="#" role="button"><i class="fas fa-bars"></i></a>\n      </li>\n    </ul>\n\n    \x3c!-- Right navbar links --\x3e\n    <ul class="navbar-nav ml-auto">\n\n    </ul>\n  </nav>\n  \x3c!-- /.navbar --\x3e\n\n  \x3c!-- Main Sidebar Container --\x3e\n  <aside class="main-sidebar sidebar-dark-primary elevation-4">\n    \x3c!-- Brand Logo --\x3e\n    <a href="/space/dash" class="brand-link">\n      <span class="brand-text font-weight-light">CoPoKo Space</span>\n    </a>\n\n    \x3c!-- Sidebar --\x3e\n    <div class="sidebar">\n\n      \x3c!-- Sidebar Menu --\x3e\n      <nav class="mt-2">\n        <ul class="nav nav-pills nav-sidebar flex-column" data-widget="treeview" role="menu" data-accordion="false">\n          ::DASH_NAV::\n        </ul>\n      </nav>\n      \x3c!-- /.sidebar-menu --\x3e\n\n  \n    </div>\n    \x3c!-- /.sidebar --\x3e\n  </aside>\n\n  \x3c!-- Content Wrapper. Contains page content --\x3e\n  <div class="content-wrapper">\n    \x3c!-- Main content --\x3e\n    ::DASH_CONTENT::\n    \x3c!-- /.content --\x3e\n  </div>\n  \x3c!-- /.content-wrapper --\x3e\n\n</div>\n\x3c!-- ./wrapper --\x3e\n\n\x3c!-- REQUIRED SCRIPTS --\x3e\n<script src="https://fastly.jsdelivr.net/npm/jquery@3.6.0/dist/jquery.min.js"><\/script>\n<script src="https://fastly.jsdelivr.net/npm/bootstrap@5.1.0/dist/js/bootstrap.bundle.min.js"><\/script>\n<script src="https://fastly.jsdelivr.net/npm/sweetalert2@11.4.14/dist/sweetalert2.min.js"><\/script>\n<script src="https://fastly.jsdelivr.net/npm/admin-lte@3.1.0/dist/js/adminlte.min.js"><\/script>\n\n\n::DASH_UTIL::\n\n::DASH_BODYEND::\n\n</body>\n</html>\n'},function(n,e,t){"use strict";t.r(e),t.d(e,"space_static_version",(function(){return r})),t.d(e,"space_cdn",(function(){return s})),t.d(e,"space_dns_prefetch",(function(){return a}));const r="1.0.1653038935402",s="https://fastly.jsdelivr.net/npm",a="https://fastly.jsdelivr.net"},function(n,e,t){var r={"./home/nav-item.html":7,"./search/nav-item.html":8,"./setting/nav-item.html":9};function s(n){var e=a(n);return t(e)}function a(n){if(!t.o(r,n)){var e=new Error("Cannot find module '"+n+"'");throw e.code="MODULE_NOT_FOUND",e}return r[n]}s.keys=function(){return Object.keys(r)},s.resolve=a,n.exports=s,s.id=6},function(n,e){n.exports=""},function(n,e){n.exports='<li class="nav-item">\r\n  <a href="/space/dash/search" class="nav-link">\r\n    <i class="nav-icon fas fa-search"></i>\r\n    <p>\r\n      Search\r\n    </p>\r\n  </a>\r\n</li>'},function(n,e){n.exports='<li class="nav-item">\r\n  <a href="/space/dash/setting" class="nav-link">\r\n    <i class="nav-icon fas fa-gear"></i>\r\n    <p>\r\n      Setting\r\n    </p>\r\n  </a>\r\n</li>'},function(n,e,t){var r={"./home/content.html":11,"./search/content.html":12,"./setting/content.html":13};function s(n){var e=a(n);return t(e)}function a(n){if(!t.o(r,n)){var e=new Error("Cannot find module '"+n+"'");throw e.code="MODULE_NOT_FOUND",e}return r[n]}s.keys=function(){return Object.keys(r)},s.resolve=a,n.exports=s,s.id=10},function(n,e){n.exports='<div class="container-fluid">\r\n  <h2 class="text-center display-4">Home</h2>\r\n</div>'},function(n,e){n.exports='\x3c!-- Content Header (Page header) --\x3e\r\n<section class="content-header">\r\n  <div class="container-fluid">\r\n    <h2 class="text-center display-4">Search</h2>\r\n  </div>\r\n</section>\r\n\r\n\x3c!-- Main content --\x3e\r\n<section class="content">\r\n  <div class="container-fluid">\r\n    <div class="row">\r\n      <div class="col-md-8 offset-md-2">\r\n        <form action="simple-results.html">\r\n          <div class="input-group input-group-lg">\r\n            <input type="search" class="form-control form-control-lg" placeholder="Type your keywords here">\r\n            <div class="input-group-append">\r\n              <button type="submit" class="btn btn-lg btn-default">\r\n                <i class="fa fa-search"></i>\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </form>\r\n      </div>\r\n    </div>\r\n    <div class="row mt-3">\r\n      <div class="col-md-10 offset-md-1">\r\n        <div class="list-group">\r\n\r\n          <div class="list-group-item">\r\n            <div class="row">\r\n              <div class="col px-4">\r\n                <div>\r\n                  <h3>Lorem ipsum dolor sit amet</h3>\r\n                  <p class="mb-0">consectetuer adipiscing elit. Aenean commodo ligula eget dolor. Aenean massa. Cum\r\n                    sociis natoque penatibus et magnis dis parturient montes, nascetur ridiculus mus.</p>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n        </div>\r\n      </div>\r\n    </div>\r\n</section>'},function(n,e){n.exports='\x3c!-- Content Header (Page header) --\x3e\r\n<section class="content-header">\r\n  <div class="container-fluid">\r\n    <h2 class="text-center display-4">Setting</h2>\r\n  </div>\r\n</section>\r\n\r\n\x3c!-- Main content --\x3e\r\n<section class="content">\r\n  <div id="card-set"></div>\r\n  <button id="add-project" type="button" class="btn btn-block btn-primary btn-lg">Add Project</button>\r\n</section>\r\n'},function(n,e,t){var r={"./home/bodyend.html":15,"./search/bodyend.html":16,"./setting/bodyend.html":17};function s(n){var e=a(n);return t(e)}function a(n){if(!t.o(r,n)){var e=new Error("Cannot find module '"+n+"'");throw e.code="MODULE_NOT_FOUND",e}return r[n]}s.keys=function(){return Object.keys(r)},s.resolve=a,n.exports=s,s.id=14},function(n,e){n.exports=""},function(n,e){n.exports=""},function(n,e){n.exports='<script>\r\nfunction rendererProjects(){\r\n  Space.KV.Get("setting").then(function (response) {\r\n  console.log(response);\r\n  Space.Setting=JSON.parse(response.value);\r\n  if (response.sucess&&!response.value) {\r\n    Space.KV.Put("setting","{}")\r\n    Space.Setting={};\r\n  }\r\n  CARD_HTML="";\r\n  Object.keys(Space.Setting).forEach(e=>{\r\n    CARD_HTML+=getCard(e);\r\n  });\r\n  document.getElementById("card-set").innerHTML=CARD_HTML;\r\n});\r\n}\r\nrendererProjects();\r\n\r\nfunction getKVItem(it,key,value){\r\n  return `<tr>\r\n    <td>\r\n      <p>${key}</p>\r\n    </td>\r\n    <td>\r\n      <p>${value}</p>\r\n    </td>\r\n    <td class="project-actions text-right">\r\n      <a id="edit-${it}-${key}" onclick="EditKVItem(this)" class="btn btn-info btn-sm">\r\n        <i class="fas fa-pencil-alt"> </i>\r\n        Edit\r\n      </a>\r\n      <a id="delete-${it}-${key}" onclick="DeleteKVItem(this)" class="btn btn-danger btn-sm">\r\n        <i class="fas fa-trash"> </i>\r\n        Delete\r\n      </a>\r\n    </td>\r\n  </tr>`;\r\n}\r\nfunction getCard(it){\r\n  KVItem_HTML=""\r\n  Object.keys(Space.Setting[it]).forEach(e=>{\r\n    KVItem_HTML+=getKVItem(it,e,Space.Setting[it][e]);\r\n  });\r\n  return `<div class="card collapsed-card">\r\n  <div class="card-header">\r\n    <h3 class="card-title">${it}</h3>\r\n    <div class="card-tools">\r\n      <button type="button" class="btn btn-tool" data-card-widget="collapse" title="Collapse">\r\n        <i class="fas fa-plus"></i>\r\n      </button>\r\n      <button id="delete-project-${it}" type="button" class="btn btn-tool" title="Remove" onclick="ProjectDelete(this)">\r\n        <i class="fas fa-times"></i>\r\n      </button>\r\n    </div>\r\n  </div>\r\n  <div class="card-body p-0" style="display: none;">\r\n    <table class="table table-striped projects">\r\n      <thead>\r\n        <tr>\r\n          <th>Key</th>\r\n          <th>Value</th>\r\n          <th style="width: 20%"></th>\r\n        </tr>\r\n      </thead>\r\n      <tbody>\r\n        ${KVItem_HTML}\r\n      </tbody>\r\n    </table>\r\n    <button id="add-kv-${it}" type="button" class="btn btn-block btn-primary btn-lg" onclick="ProjectAddKV(this)">Add KV</button>\r\n  </div>\r\n</div>`\r\n}\r\n\r\n$("#add-project").click((e)=>{\r\n  Swal.fire({\r\n    title: \'Type your project name\',\r\n    input: \'text\',\r\n    inputAttributes: {\r\n      autocapitalize: \'off\'\r\n    },\r\n    showCancelButton: true,\r\n    confirmButtonText: \'Add\',\r\n    showLoaderOnConfirm: true,\r\n    preConfirm: (key) => {\r\n      Space.Setting[key]={}\r\n      return Space.KV.Put("setting",JSON.stringify(Space.Setting)).then(function (response) {\r\n          console.log(response);\r\n          return response;\r\n        })\r\n        .catch(error => {\r\n          Swal.showValidationMessage(\r\n            `Request failed: ${error}`\r\n          )\r\n        })\r\n    },\r\n    allowOutsideClick: () => !Swal.isLoading()\r\n  }).then((result) => {\r\n    console.log(result);\r\n    if (result.isConfirmed) {\r\n      if (result.value.sucess) {\r\n        rendererProjects();\r\n        Toast.fire({\r\n          icon: \'success\',\r\n          title: `Add Project ${result.value.key}`\r\n        })\r\n      }\r\n    }\r\n  })\r\n})\r\nfunction ProjectAddKV(it){\r\n  let project=it.id.split("-")[2];\r\n  Swal.fire({\r\n    title: \'Type your key Value\',\r\n    html: \'<input id="swal-input1" class="swal2-input" placeholder="Key"><br/>\' +\r\n    \'<input id="swal-input2" class="swal2-input" placeholder="Value">\',\r\n    inputAttributes: {\r\n      autocapitalize: \'off\'\r\n    },\r\n    showCancelButton: true,\r\n    confirmButtonText: \'Add\',\r\n    showLoaderOnConfirm: true,\r\n    preConfirm: () => {\r\n      let key = document.getElementById(\'swal-input1\').value;\r\n      let value = document.getElementById(\'swal-input2\').value;\r\n      Space.Setting[project][key]=value;\r\n      console.log(Space.Setting);\r\n      return Space.KV.Put("setting",JSON.stringify(Space.Setting)).then(function (response) {\r\n          console.log(response);\r\n          return response;\r\n        })\r\n        .catch(error => {\r\n          Swal.showValidationMessage(\r\n            `Request failed: ${error}`\r\n          )\r\n        })\r\n    },\r\n    allowOutsideClick: () => !Swal.isLoading()\r\n  }).then((result) => {\r\n    console.log(result);\r\n    if (result.isConfirmed) {\r\n      if (result.value.sucess) {\r\n        rendererProjects();\r\n        Toast.fire({\r\n          icon: \'success\',\r\n          title: `Add KV ${result.value.key}`\r\n        })\r\n      }\r\n    }\r\n  })\r\n}\r\nfunction ProjectDelete(it) {\r\n  let project=it.id.split("-")[2];\r\n  Swal.fire({\r\n    title: \'Are you sure?\',\r\n    text: "You won\'t be able to revert this!",\r\n    icon: \'warning\',\r\n    showCancelButton: true,\r\n    confirmButtonColor: \'#3085d6\',\r\n    cancelButtonColor: \'#d33\',\r\n    confirmButtonText: \'Yes, delete it!\'\r\n  }).then((result) => {\r\n    if (result.value) {\r\n      delete Space.Setting[project];\r\n      Space.KV.Put("setting",JSON.stringify(Space.Setting)).then(function (response) {\r\n        console.log(response);\r\n        if (response.sucess) {\r\n          rendererProjects();\r\n          Toast.fire({\r\n            icon: \'success\',\r\n            title: `Delete Project ${project}`\r\n          })\r\n        }\r\n      })\r\n    }\r\n  })\r\n}\r\nfunction EditKVItem(it) {\r\n  let project=it.id.split("-")[1];\r\n  let key=it.id.split("-")[2];\r\n  let value = Space.Setting[project][key];\r\n  Swal.fire({\r\n    title: \'Type your key Value\',\r\n    html: \'<input id="swal-input1" class="swal2-input" placeholder="Key" value="\'+key+\'"><br/>\' +\r\n    \'<input id="swal-input2" class="swal2-input" placeholder="Value" value="\'+value+\'">\',\r\n    inputAttributes: {\r\n      autocapitalize: \'off\'\r\n    },\r\n    showCancelButton: true,\r\n    confirmButtonText: \'Edit\',\r\n    showLoaderOnConfirm: true,\r\n    preConfirm: () => {\r\n      delete Space.Setting[project][it.id.split("-")[2]];\r\n      let key = document.getElementById(\'swal-input1\').value;\r\n      let value = document.getElementById(\'swal-input2\').value;\r\n      Space.Setting[project][key]=value;\r\n      console.log(Space.Setting);\r\n      return Space.KV.Put("setting",JSON.stringify(Space.Setting)).then(function (response) {\r\n          console.log(response);\r\n          return response;\r\n        })\r\n        .catch(error => {\r\n          Swal.showValidationMessage(\r\n            `Request failed: ${error}`\r\n          )\r\n        })\r\n    },\r\n    allowOutsideClick: () => !Swal.isLoading()\r\n  }).then((result) => {\r\n    console.log(result);\r\n    if (result.isConfirmed) {\r\n      if (result.value.sucess) {\r\n        rendererProjects();\r\n        Toast.fire({\r\n          icon: \'success\',\r\n          title: `Edit KV ${key}`\r\n        })\r\n      }\r\n    }\r\n  })\r\n}\r\nfunction DeleteKVItem(it) {\r\n  let project=it.id.split("-")[1];\r\n  let key=it.id.split("-")[2];\r\n  Swal.fire({\r\n    title: \'Are you sure?\',\r\n    text: "You won\'t be able to revert this!",\r\n    icon: \'warning\',\r\n    showCancelButton: true,\r\n    confirmButtonColor: \'#3085d6\',\r\n    cancelButtonColor: \'#d33\',\r\n    confirmButtonText: \'Yes, delete it!\'\r\n  }).then((result) => {\r\n    if (result.value) {\r\n      delete Space.Setting[project][key];\r\n      Space.KV.Put("setting",JSON.stringify(Space.Setting)).then(function (response) {\r\n        console.log(response);\r\n        if (response.sucess) {\r\n          rendererProjects();\r\n          Toast.fire({\r\n            icon: \'success\',\r\n            title: `Delete KV ${key}`\r\n          })\r\n        }\r\n      })\r\n    }\r\n  })\r\n}\r\n\r\n<\/script>'},function(n,e){n.exports='<script>\r\nSpace={}\r\nSpace.helper={\r\n  headers_json: {\r\n    "content-type": "application/json",\r\n    "User-Agent": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/83.0.4103.61 Safari/537.36",\r\n  }\r\n}\r\nSpace.KV={}\r\nSpace.KV.Get=(key)=>{\r\n  return fetch("/space/api/kv/get",{\r\n    method:"POST",\r\n    headers: Space.helper.headers_json,\r\n    body: JSON.stringify({\r\n      "key": key,\r\n    })\r\n  }).then(function(response){\r\n    return response.json();\r\n  })\r\n}\r\nSpace.KV.Delete=(key)=>{\r\n  return fetch("/space/api/kv/delete",{\r\n    method:"POST",\r\n    headers: Space.helper.headers_json,\r\n    body: JSON.stringify({\r\n      "key": key,\r\n    })\r\n  }).then(function(response){\r\n    return response.json();\r\n  })\r\n}\r\nSpace.KV.Put=(key,value)=>{\r\n  return fetch("/space/api/kv/put",{\r\n    method:"POST",\r\n    headers: Space.helper.headers_json,\r\n    body: JSON.stringify({\r\n      "key": key,\r\n      "value": value,\r\n    })\r\n  }).then(function(response){\r\n    return response.json();\r\n  })\r\n}\r\nvar Toast = Swal.mixin({\r\n  toast: true,\r\n  position: \'top-end\',\r\n  showConfirmButton: false,\r\n  timer: 3000\r\n});\r\n<\/script>'},function(n,e,t){var r;n.exports=(r=t(20),function(n){var e=r,t=e.lib,s=t.WordArray,a=t.Hasher,i=e.algo,o=[],c=[];!function(){function e(e){for(var t=n.sqrt(e),r=2;r<=t;r++)if(!(e%r))return!1;return!0}function t(n){return 4294967296*(n-(0|n))|0}for(var r=2,s=0;s<64;)e(r)&&(s<8&&(o[s]=t(n.pow(r,.5))),c[s]=t(n.pow(r,1/3)),s++),r++}();var l=[],u=i.SHA256=a.extend({_doReset:function(){this._hash=new s.init(o.slice(0))},_doProcessBlock:function(n,e){for(var t=this._hash.words,r=t[0],s=t[1],a=t[2],i=t[3],o=t[4],u=t[5],p=t[6],d=t[7],h=0;h<64;h++){if(h<16)l[h]=0|n[e+h];else{var f=l[h-15],m=(f<<25|f>>>7)^(f<<14|f>>>18)^f>>>3,g=l[h-2],v=(g<<15|g>>>17)^(g<<13|g>>>19)^g>>>10;l[h]=m+l[h-7]+v+l[h-16]}var y=r&s^r&a^s&a,w=(r<<30|r>>>2)^(r<<19|r>>>13)^(r<<10|r>>>22),b=d+((o<<26|o>>>6)^(o<<21|o>>>11)^(o<<7|o>>>25))+(o&u^~o&p)+c[h]+l[h];d=p,p=u,u=o,o=i+b|0,i=a,a=s,s=r,r=b+(w+y)|0}t[0]=t[0]+r|0,t[1]=t[1]+s|0,t[2]=t[2]+a|0,t[3]=t[3]+i|0,t[4]=t[4]+o|0,t[5]=t[5]+u|0,t[6]=t[6]+p|0,t[7]=t[7]+d|0},_doFinalize:function(){var e=this._data,t=e.words,r=8*this._nDataBytes,s=8*e.sigBytes;return t[s>>>5]|=128<<24-s%32,t[14+(s+64>>>9<<4)]=n.floor(r/4294967296),t[15+(s+64>>>9<<4)]=r,e.sigBytes=4*t.length,this._process(),this._hash},clone:function(){var n=a.clone.call(this);return n._hash=this._hash.clone(),n}});e.SHA256=a._createHelper(u),e.HmacSHA256=a._createHmacHelper(u)}(Math),r.SHA256)},function(n,e,t){(function(e){var r;n.exports=(r=r||function(n,r){var s;if("undefined"!=typeof window&&window.crypto&&(s=window.crypto),"undefined"!=typeof self&&self.crypto&&(s=self.crypto),"undefined"!=typeof globalThis&&globalThis.crypto&&(s=globalThis.crypto),!s&&"undefined"!=typeof window&&window.msCrypto&&(s=window.msCrypto),!s&&void 0!==e&&e.crypto&&(s=e.crypto),!s)try{s=t(22)}catch(n){}var a=function(){if(s){if("function"==typeof s.getRandomValues)try{return s.getRandomValues(new Uint32Array(1))[0]}catch(n){}if("function"==typeof s.randomBytes)try{return s.randomBytes(4).readInt32LE()}catch(n){}}throw new Error("Native crypto module could not be used to get secure random number.")},i=Object.create||function(){function n(){}return function(e){var t;return n.prototype=e,t=new n,n.prototype=null,t}}(),o={},c=o.lib={},l=c.Base={extend:function(n){var e=i(this);return n&&e.mixIn(n),e.hasOwnProperty("init")&&this.init!==e.init||(e.init=function(){e.$super.init.apply(this,arguments)}),e.init.prototype=e,e.$super=this,e},create:function(){var n=this.extend();return n.init.apply(n,arguments),n},init:function(){},mixIn:function(n){for(var e in n)n.hasOwnProperty(e)&&(this[e]=n[e]);n.hasOwnProperty("toString")&&(this.toString=n.toString)},clone:function(){return this.init.prototype.extend(this)}},u=c.WordArray=l.extend({init:function(n,e){n=this.words=n||[],this.sigBytes=null!=e?e:4*n.length},toString:function(n){return(n||d).stringify(this)},concat:function(n){var e=this.words,t=n.words,r=this.sigBytes,s=n.sigBytes;if(this.clamp(),r%4)for(var a=0;a<s;a++){var i=t[a>>>2]>>>24-a%4*8&255;e[r+a>>>2]|=i<<24-(r+a)%4*8}else for(var o=0;o<s;o+=4)e[r+o>>>2]=t[o>>>2];return this.sigBytes+=s,this},clamp:function(){var e=this.words,t=this.sigBytes;e[t>>>2]&=4294967295<<32-t%4*8,e.length=n.ceil(t/4)},clone:function(){var n=l.clone.call(this);return n.words=this.words.slice(0),n},random:function(n){for(var e=[],t=0;t<n;t+=4)e.push(a());return new u.init(e,n)}}),p=o.enc={},d=p.Hex={stringify:function(n){for(var e=n.words,t=n.sigBytes,r=[],s=0;s<t;s++){var a=e[s>>>2]>>>24-s%4*8&255;r.push((a>>>4).toString(16)),r.push((15&a).toString(16))}return r.join("")},parse:function(n){for(var e=n.length,t=[],r=0;r<e;r+=2)t[r>>>3]|=parseInt(n.substr(r,2),16)<<24-r%8*4;return new u.init(t,e/2)}},h=p.Latin1={stringify:function(n){for(var e=n.words,t=n.sigBytes,r=[],s=0;s<t;s++){var a=e[s>>>2]>>>24-s%4*8&255;r.push(String.fromCharCode(a))}return r.join("")},parse:function(n){for(var e=n.length,t=[],r=0;r<e;r++)t[r>>>2]|=(255&n.charCodeAt(r))<<24-r%4*8;return new u.init(t,e)}},f=p.Utf8={stringify:function(n){try{return decodeURIComponent(escape(h.stringify(n)))}catch(n){throw new Error("Malformed UTF-8 data")}},parse:function(n){return h.parse(unescape(encodeURIComponent(n)))}},m=c.BufferedBlockAlgorithm=l.extend({reset:function(){this._data=new u.init,this._nDataBytes=0},_append:function(n){"string"==typeof n&&(n=f.parse(n)),this._data.concat(n),this._nDataBytes+=n.sigBytes},_process:function(e){var t,r=this._data,s=r.words,a=r.sigBytes,i=this.blockSize,o=a/(4*i),c=(o=e?n.ceil(o):n.max((0|o)-this._minBufferSize,0))*i,l=n.min(4*c,a);if(c){for(var p=0;p<c;p+=i)this._doProcessBlock(s,p);t=s.splice(0,c),r.sigBytes-=l}return new u.init(t,l)},clone:function(){var n=l.clone.call(this);return n._data=this._data.clone(),n},_minBufferSize:0}),g=(c.Hasher=m.extend({cfg:l.extend(),init:function(n){this.cfg=this.cfg.extend(n),this.reset()},reset:function(){m.reset.call(this),this._doReset()},update:function(n){return this._append(n),this._process(),this},finalize:function(n){return n&&this._append(n),this._doFinalize()},blockSize:16,_createHelper:function(n){return function(e,t){return new n.init(t).finalize(e)}},_createHmacHelper:function(n){return function(e,t){return new g.HMAC.init(n,t).finalize(e)}}}),o.algo={});return o}(Math),r)}).call(this,t(21))},function(n,e){var t;t=function(){return this}();try{t=t||new Function("return this")()}catch(n){"object"==typeof window&&(t=window)}n.exports=t},function(n,e){},function(n,e,t){"use strict";t.r(e);var r={js:{headers:{"content-type":"application/javascript; charset=utf-8","Access-Control-Allow-Origin":"*"}},html:{headers:{"content-type":"text/html; charset=utf-8","Access-Control-Allow-Origin":"*"}},json:{headers:{"content-type":"application/json; charset=utf-8","Access-Control-Allow-Origin":"*"}},stream:{headers:{"content-type":"application/octet-stream","Access-Control-Allow-Origin":"*"}},xml:{headers:{"content-type":"application/xml; charset=utf-8","Access-Control-Allow-Origin":"*"}},text:{headers:{"content-type":"text/plain; charset=utf-8","Access-Control-Allow-Origin":"*"}}};var s=async function(n){return new Response(A.renderers.erorr.replace(/::ErrorInfo::/g,n),A.helpers.headers.html)};var a={headers:r,ErrorResponse:s,Router:class{constructor(n){this.event=n,this.request=this.event.request,this.urlObj=new URL(this.request.url),this.pathname=this.urlObj.pathname,this.searchParams=this.urlObj.searchParams,this.method=this.request.method,this.ip=this.request.headers.get("CF-Connecting-IP")||this.request.headers.get("x-real-ip"),this.status={action:0,filterPath:0,auth:0,path:0},this.setStatus=(n,e)=>(this.status[n]=e,this),this.getParam=n=>this.searchParams.get(n),this.get=n=>(this.status.action||this.status.filterPath||"GET"==this.method&&this.pathname.startsWith(n)&&(this.status.filterPath=1,this.status.path=n),this),this.post=n=>(this.status.action||this.status.filterPath||"POST"==this.method&&this.pathname.startsWith(n)&&(this.status.filterPath=1,this.status.path=n),this),this.action=function(n){return this.status.action||this.status.filterPath&&(this.status.action=1,this.run=async()=>await n(this)),this}}},cookie:{set:async function(n,e,t,r="/"){return n.headers.append("Set-Cookie",`${e}=${t}; path=${r};Max-Age=86400`),n},get:async function(n,e){const t=n.headers.get("Cookie");if(!t)return"";const r=e+"=",s=t.indexOf(r);if(-1===s)return"";const a=t.substring(s+r.length,t.length),i=a.indexOf(";");return-1===i?a:a.substring(0,i)}},readRequest:{Body:async function(n){const{headers:e}=n,t=e.get("content-type")||"";if(t.includes("application/json"))return JSON.stringify(await n.json());if(t.includes("application/text"))return await n.text();if(t.includes("text/html"))return await n.text();if(t.includes("form")){const e=await n.formData(),t={};for(const n of e.entries())t[n[0]]=n[1];return JSON.stringify(t)}return await n.blob()}},captcha:{recaptcha:async(n,e,t)=>{let r=await fetch(new Request("https://www.google.com/recaptcha/api/siteverify",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:`secret=${n}&response=${e}&remoteip=${t}`}));return r=await r.json(),!!(r.success&&r.score>=.6)}},kv:{put:async(n,e)=>await SpaceKV.put(n,e),delete:async n=>await SpaceKV.delete(n),get:async n=>await SpaceKV.get(n)}},i=t(1),o=t.n(i),c=t(2),l=t.n(c),u=t(3),p=t.n(u),d=t(4),h=t.n(d);const{space_static_version:f,space_cdn:m,space_dns_prefetch:g}=t(5);function v(n){return n=(n=n.replace(/::CDN::/g,m+"/@copoko/space-static@"+f)).replace(/::PRECONNECT::/g,g)}const{dash_nav:y}=t(0);let w="";y.forEach(n=>{w+=t(6)(`./${n}/nav-item.html`)});let b={};y.forEach(n=>{b[n]=v(function(n){let e=h.a.replace(/::DASH_NAV::/g,w);return e=e.replace(/::DASH_CONTENT::/g,t(10)(`./${n}/content.html`)),e=e.replace(/::DASH_BODYEND::/g,t(14)(`./${n}/bodyend.html`)),e=e.replace(/::DASH_UTIL::/g,t(18)),e}(n))});var S={erorr:v(o.a),auth:v(l.a),robots:p.a,dash:b};let k=t(19);var x={CheckAuth:async function(n){let e=await A.helpers.readRequest.Body(n.request);e=JSON.parse(e);let t=e.token,r=reCAPTCHA_SERVER,s=n.ip;if(await A.helpers.captcha.recaptcha(r,t,s)){let n=`${k(SpaceName).toString()}::${k(SpacePassword).toString()}`,t=`${k(e.name).toString()}::${k(e.password).toString()}`;if(t==n)return new Response(JSON.stringify({success:1,cookie:"_copoko_space_cookie_auth="+t}),A.helpers.headers.json)}return new Response(JSON.stringify({success:0}),A.helpers.headers.json)},CheckCookieAuth:async function(n){return A.helpers.cookie.get(n.request,"_copoko_space_cookie_auth").then(async n=>{if(n){if(n==`${k(SpaceName).toString()}::${k(SpacePassword).toString()}`)return"PASS"}return await A.helpers.ErrorResponse("NO PERMISSION TO ACCESS THE SERVICE")})},AuthPage:async function(n){return new Response(A.renderers.auth.replace(/::reCAPTCHA_CLIENT::/g,reCAPTCHA_CLIENT),A.helpers.headers.html)}};var C=async function(n){return new Response(A.renderers.robots,A.helpers.headers.text)};function j(n){return new Response(A.renderers.dash[n.status.path.replace("/space/dash/","")],A.helpers.headers.html)}const{dash_nav:_}=t(0);let O={};_.forEach(n=>{O[n]=j});var A={helpers:a,renderers:S,actions:{Auth:x,Robots:C,Dash:O,api:{kv:{get:async function(n){try{let e=await A.helpers.readRequest.Body(n.request);e=JSON.parse(e);let t=e.key,r=await A.helpers.kv.get(t);return new Response(JSON.stringify({sucess:1,key:t,value:r}),A.helpers.headers.json)}catch(n){return new Response(JSON.stringify({sucess:0,error:n}),{status:500,headers:A.helpers.headers.json})}},put:async function(n){try{let e=await A.helpers.readRequest.Body(n.request);e=JSON.parse(e);let t=e.key,r=e.value;return await A.helpers.kv.put(t,r),new Response(JSON.stringify({sucess:1,key:t,value:r}),A.helpers.headers.json)}catch(n){return new Response(JSON.stringify({sucess:0,error:n}),{status:500,headers:A.helpers.headers.json})}},delete:async function(n){try{let e=await A.helpers.readRequest.Body(n.request);e=JSON.parse(e);let t=e.key;return await A.helpers.kv.delete(t),new Response(JSON.stringify({sucess:1,key:t}),A.helpers.headers.json)}catch(n){return new Response(JSON.stringify({sucess:0,error:n}),{status:500,headers:A.helpers.headers.json})}}}}}};var P=async function(n){try{let e=new A.helpers.Router(n);if(e.get("/robots.txt").action(A.actions.Robots),e.get("/"+START).action(A.actions.Auth.AuthPage),e.post("/space/auth").action(A.actions.Auth.CheckAuth),!e.status.action){let t=await A.actions.Auth.CheckCookieAuth(n);if("PASS"!=t)return t;e.setStatus("auth",1)}const{dash_nav:r}=t(0);return r.forEach(n=>{e.get("/space/dash/"+n).action(A.actions.Dash[n])}),e.post("/space/api/kv/get").action(A.actions.api.kv.get),e.post("/space/api/kv/put").action(A.actions.api.kv.put),e.post("/space/api/kv/delete").action(A.actions.api.kv.delete),e.status.action?await e.run():e.status.auth&&n.request.url!=`https://${n.request.url.split("/")[2]}/space/dash/home`?Response.redirect(`https://${n.request.url.split("/")[2]}/space/dash/home`,302):await A.helpers.ErrorResponse("Ooops...")}catch(n){return await A.helpers.ErrorResponse(n)}};addEventListener("fetch",n=>{n.respondWith(P(n).catch(n=>new Response(n.stack,{status:500})))})}]);