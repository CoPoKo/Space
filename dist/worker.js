!function(n){var e={};function t(r){if(e[r])return e[r].exports;var s=e[r]={i:r,l:!1,exports:{}};return n[r].call(s.exports,s,s.exports,t),s.l=!0,s.exports}t.m=n,t.c=e,t.d=function(n,e,r){t.o(n,e)||Object.defineProperty(n,e,{enumerable:!0,get:r})},t.r=function(n){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})},t.t=function(n,e){if(1&e&&(n=t(n)),8&e)return n;if(4&e&&"object"==typeof n&&n&&n.__esModule)return n;var r=Object.create(null);if(t.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:n}),2&e&&"string"!=typeof n)for(var s in n)t.d(r,s,function(e){return n[e]}.bind(null,s));return r},t.n=function(n){var e=n&&n.__esModule?function(){return n.default}:function(){return n};return t.d(e,"a",e),e},t.o=function(n,e){return Object.prototype.hasOwnProperty.call(n,e)},t.p="",t(t.s=16)}([function(n,e,t){"use strict";t.r(e),t.d(e,"dash_nav",(function(){return r}));const r=["home","search"]},function(n,e){n.exports='<!DOCTYPE html>\r\n<html lang="en" class="no-js">\r\n\r\n<head>\r\n  <meta charset="UTF-8" />\r\n  <meta robots="noindex, nofollow" />\r\n  <meta http-equiv="x-dns-prefetch-control" content="on" />\r\n  <link rel="dns-prefetch" href="::PRECONNECT::" />\r\n  <link rel="preconnect" href="::PRECONNECT::" crossorigin />\r\n  <meta name="renderer" content="webkit" />\r\n  <meta name="force-rendering" content="webkit" />\r\n  <meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1" />\r\n  <meta name="HandheldFriendly" content="True" />\r\n  <meta name="apple-mobile-web-app-capable" content="yes" />\r\n  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1" />\r\n  <meta content="no-transform" http-equiv="Cache-Control" />\r\n  <meta content="no-siteapp" http-equiv="Cache-Control" />\r\n  <title>Error</title>\r\n  <link rel="icon" type="image/png" sizes="16x16" href="::CDN::/favicon/favicon-16x16.png" />\r\n  <link rel="icon" type="image/png" sizes="32x32" href="::CDN::/favicon/favicon-32x32.png" />\r\n  <link rel="icon" type="image/png" sizes="96x96" href="::CDN::/favicon/favicon-96x96.png" />\r\n  <link rel="stylesheet" type="text/css" href="::CDN::/css/error.css" />\r\n</head>\r\n\r\n<body>\r\n  <div class="container">\r\n    <div class="content">\r\n      <div id="large-header" class="large-header">\r\n        <div id="parallax-window"></div>\r\n        <canvas id="header-canvas"></canvas>\r\n      </div>\r\n      <div class="codrops-header">\r\n        <h1>Error<span>::ErrorInfo::</span></h1>\r\n      </div>\r\n    </div>\r\n    <div>\r\n      <svg class="waves" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"\r\n        viewBox="0 24 150 28" preserveAspectRatio="none" shape-rendering="auto">\r\n        <defs>\r\n          <path id="gentle-wave" d="M-160 44c30 0 58-18 88-18s 58 18 88 18 58-18 88-18 58 18 88 18 v44h-352z" />\r\n        </defs>\r\n        <g class="parallax">\r\n          <use xlink:href="#gentle-wave" x="48" y="0" fill="rgba(135,206,235,0.7)" />\r\n          <use xlink:href="#gentle-wave" x="48" y="3" fill="rgba(135,206,235,0.5)" />\r\n          <use xlink:href="#gentle-wave" x="48" y="5" fill="rgba(135,206,235,0.3)" />\r\n          <use xlink:href="#gentle-wave" x="48" y="7" fill="rgba(135,206,235,1)" />\r\n        </g>\r\n      </svg>\r\n    </div>\r\n  </div>\r\n  <script src="::CDN::/js/error.js"><\/script>\r\n</body>\r\n\r\n</html>'},function(n,e){n.exports='<!DOCTYPE html>\r\n<html lang="zh">\r\n\r\n<head>\r\n  <meta charset="UTF-8" />\r\n  <meta robots="noindex, nofollow" />\r\n  <meta http-equiv="x-dns-prefetch-control" content="on" />\r\n  <link rel="dns-prefetch" href="::PRECONNECT::" />\r\n  <link rel="preconnect" href="::PRECONNECT::" crossorigin />\r\n  <meta name="renderer" content="webkit" />\r\n  <meta name="force-rendering" content="webkit" />\r\n  <meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1" />\r\n  <meta name="HandheldFriendly" content="True" />\r\n  <meta name="apple-mobile-web-app-capable" content="yes" />\r\n  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1" />\r\n  <title>Auth | CoPoKo Space</title>\r\n  <link rel="icon" type="image/png" sizes="16x16" href="::CDN::/favicon/favicon-16x16.png" />\r\n  <link rel="icon" type="image/png" sizes="32x32" href="::CDN::/favicon/favicon-32x32.png" />\r\n  <link rel="icon" type="image/png" sizes="96x96" href="::CDN::/favicon/favicon-96x96.png" />\r\n  <link rel="stylesheet" href="::CDN::/css/auth.css" />\r\n  <style>\r\n    .grecaptcha-badge {\r\n      display: none;\r\n    }\r\n  </style>\r\n</head>\r\n\r\n<body>\r\n  <main class="auth-main wrapper">\r\n    <div id="auth-block" class="auth-block">\r\n      <h1>Welcome</h1>\r\n      <div id="form" class="form-horizontal" method="POST" action="/space/auth">\r\n        <div class="form-group">\r\n          <label for="inputName" class="col-sm-2 control-label">Name</label>\r\n          <div class="col-sm-10">\r\n            <input type="text" name="name" class="form-control" id="inputName" placeholder="Name" required="required"\r\n              autocomplete="off" />\r\n          </div>\r\n        </div>\r\n        <div class="form-group">\r\n          <label for="inputPassword" class="col-sm-2 control-label">Password</label>\r\n          <div class="col-sm-10">\r\n            <input type="password" name="password" class="form-control" id="inputPassword" placeholder="Password"\r\n              required="required" autocomplete="off" />\r\n          </div>\r\n        </div>\r\n        <div class="form-group">\r\n          <div class="col-sm-offset-5 col-sm-10">\r\n            <button type="submit" id="signin" class="btn btn-default btn-auth">\r\n              Sign in\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <ul class="bg-bubbles">\r\n      <li></li>\r\n      <li></li>\r\n      <li></li>\r\n      <li></li>\r\n      <li></li>\r\n      <li></li>\r\n      <li></li>\r\n      <li></li>\r\n      <li></li>\r\n      <li></li>\r\n    </ul>\r\n  </main>\r\n  <script src="https://recaptcha.net/recaptcha/api.js?render=::reCAPTCHA_CLIENT::"><\/script>\r\n  <script>\r\n    document.getElementById("signin").addEventListener("click", async () => {\r\n      const name = document.getElementById("inputName").value;\r\n      const password = document.getElementById("inputPassword").value;\r\n      document.getElementById("auth-block").innerHTML =\r\n        "<h1>我们正在进行人机验证...</h1>";\r\n      grecaptcha.ready(() => {\r\n        grecaptcha\r\n          .execute("::reCAPTCHA_CLIENT::", { action: "space" })\r\n          .then(async (t) => {\r\n            document.getElementById("auth-block").innerHTML =\r\n              "<h1>我们正在验证您的登录凭据...</h1>";\r\n            const res = await (\r\n              await fetch(\r\n                new Request("/space/auth", {\r\n                  method: "POST",\r\n                  headers: {\r\n                    "Content-Type": "application/x-www-form-urlencoded",\r\n                  },\r\n                  body: `name=${name}&password=${password}&token=${t}`,\r\n                })\r\n              )\r\n            ).json();\r\n            if (res.success) {\r\n              document.getElementById("auth-block").innerHTML =\r\n                "<h1>登录成功，即将跳转！</h1>";\r\n              document.cookie = res.cookie;\r\n              document.location.href = `${document.location.origin}/space/dash`;\r\n            } else {\r\n              document.getElementById("auth-block").innerHTML =\r\n                "<h1>无效的登录凭据 :(</h1>";\r\n            }\r\n          });\r\n      });\r\n    });\r\n  <\/script>\r\n</body>\r\n\r\n</html>'},function(n,e){n.exports="User-agent: * \r\nDisallow: /"},function(n,e){n.exports='<!DOCTYPE html>\n<html lang="en">\n<head>\n  <meta charset="utf-8">\n  <meta robots="noindex, nofollow" />\n  <meta name="viewport" content="width=device-width, initial-scale=1">\n  <title>CoPoKo Space</title>\n\n  \x3c!-- Google Font: Source Sans Pro --\x3e\n  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Source+Sans+Pro:300,400,400i,700&display=fallback">\n  \x3c!-- Font Awesome Icons --\x3e\n  <link rel="stylesheet" href="https://fastly.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.15.3/css/all.min.css">\n  \x3c!-- overlayScrollbars --\x3e\n  <link rel="stylesheet" href="https://fastly.jsdelivr.net/npm/overlayscrollbars@1.13.1/css/OverlayScrollbars.min.css">\n  \x3c!-- Theme style --\x3e\n  <link rel="stylesheet" href="https://fastly.jsdelivr.net/npm/admin-lte@3.1.0/dist/css/adminlte.min.css">\n  <style>\n    .brand-text{\n      text-align: center !important;\n      display: block !important;\n    }\n  </style>\n</head>\n<body class="hold-transition dark-mode sidebar-mini layout-fixed layout-navbar-fixed layout-footer-fixed">\n<div class="wrapper">\n\n  \x3c!-- Preloader --\x3e\n  \x3c!-- <div class="preloader flex-column justify-content-center align-items-center">\n    <img class="animation__wobble" src="https://fastly.jsdelivr.net/npm/admin-lte@3.1.0/dist/img/AdminLTELogo.png" alt="AdminLTELogo" height="60" width="60">\n  </div> --\x3e\n\n  \x3c!-- Navbar --\x3e\n  <nav class="main-header navbar navbar-expand navbar-dark">\n    \x3c!-- Left navbar links --\x3e\n    <ul class="navbar-nav">\n      <li class="nav-item">\n        <a class="nav-link" data-widget="pushmenu" href="#" role="button"><i class="fas fa-bars"></i></a>\n      </li>\n    </ul>\n\n    \x3c!-- Right navbar links --\x3e\n    <ul class="navbar-nav ml-auto">\n      <li class="nav-item">\n        <a class="nav-link" data-widget="fullscreen" href="#" role="button">\n          <i class="fas fa-expand-arrows-alt"></i>\n        </a>\n      </li>\n    </ul>\n  </nav>\n  \x3c!-- /.navbar --\x3e\n\n  \x3c!-- Main Sidebar Container --\x3e\n  <aside class="main-sidebar sidebar-dark-primary elevation-4">\n    \x3c!-- Brand Logo --\x3e\n    <a href="/space/dash" class="brand-link">\n      <span class="brand-text font-weight-light">CoPoKo Space</span>\n    </a>\n\n    \x3c!-- Sidebar --\x3e\n    <div class="sidebar">\n\n      \x3c!-- Sidebar Menu --\x3e\n      <nav class="mt-2">\n        <ul class="nav nav-pills nav-sidebar flex-column" data-widget="treeview" role="menu" data-accordion="false">\n          ::DASH_NAV::\n        </ul>\n      </nav>\n      \x3c!-- /.sidebar-menu --\x3e\n\n  \n    </div>\n    \x3c!-- /.sidebar --\x3e\n  </aside>\n\n  \x3c!-- Content Wrapper. Contains page content --\x3e\n  <div class="content-wrapper">\n    \x3c!-- Main content --\x3e\n    ::DASH_CONTENT::\n    \x3c!-- /.content --\x3e\n  </div>\n  \x3c!-- /.content-wrapper --\x3e\n\n</div>\n\x3c!-- ./wrapper --\x3e\n\n\x3c!-- REQUIRED SCRIPTS --\x3e\n\x3c!-- jQuery --\x3e\n<script src="https://fastly.jsdelivr.net/npm/jquery@3.6.0/dist/jquery.min.js"><\/script>\n\x3c!-- Bootstrap --\x3e\n<script src="https://fastly.jsdelivr.net/npm/bootstrap@5.1.0/dist/js/bootstrap.bundle.min.js"><\/script>\n\x3c!-- overlayScrollbars --\x3e\n<script src="https://fastly.jsdelivr.net/npm/overlayscrollbars@1.13.1/js/jquery.overlayScrollbars.min.js"><\/script>\n\x3c!-- AdminLTE App --\x3e\n<script src="https://fastly.jsdelivr.net/npm/admin-lte@3.1.0/dist/js/adminlte.min.js"><\/script>\n\n\n\n</body>\n</html>\n'},function(n,e,t){"use strict";t.r(e),t.d(e,"space_static_version",(function(){return r})),t.d(e,"space_cdn",(function(){return s})),t.d(e,"space_dns_prefetch",(function(){return i}));const r="1.0.1653038935402",s="https://fastly.jsdelivr.net/npm",i="https://fastly.jsdelivr.net"},function(n,e,t){var r={"./home/nav-item.html":7,"./search/nav-item.html":8};function s(n){var e=i(n);return t(e)}function i(n){if(!t.o(r,n)){var e=new Error("Cannot find module '"+n+"'");throw e.code="MODULE_NOT_FOUND",e}return r[n]}s.keys=function(){return Object.keys(r)},s.resolve=i,n.exports=s,s.id=6},function(n,e){n.exports=""},function(n,e){n.exports='<li class="nav-item">\r\n  <a href="/space/dash/search" class="nav-link">\r\n    <i class="nav-icon fas fa-search"></i>\r\n    <p>\r\n      Search\r\n    </p>\r\n  </a>\r\n</li>'},function(n,e,t){var r={"./home/content.html":10,"./search/content.html":11};function s(n){var e=i(n);return t(e)}function i(n){if(!t.o(r,n)){var e=new Error("Cannot find module '"+n+"'");throw e.code="MODULE_NOT_FOUND",e}return r[n]}s.keys=function(){return Object.keys(r)},s.resolve=i,n.exports=s,s.id=9},function(n,e){n.exports='<div class="container-fluid">\r\n  <h2 class="text-center display-4">Home</h2>\r\n</div>'},function(n,e){n.exports='\x3c!-- Content Header (Page header) --\x3e\r\n<section class="content-header">\r\n  <div class="container-fluid">\r\n    <h2 class="text-center display-4">Search</h2>\r\n  </div>\r\n</section>\r\n\r\n\x3c!-- Main content --\x3e\r\n<section class="content">\r\n  <div class="container-fluid">\r\n    <div class="row">\r\n      <div class="col-md-8 offset-md-2">\r\n        <form action="simple-results.html">\r\n          <div class="input-group input-group-lg">\r\n            <input type="search" class="form-control form-control-lg" placeholder="Type your keywords here"\r\n              value="Lorem ipsum">\r\n            <div class="input-group-append">\r\n              <button type="submit" class="btn btn-lg btn-default">\r\n                <i class="fa fa-search"></i>\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </form>\r\n      </div>\r\n    </div>\r\n    <div class="row mt-3">\r\n      <div class="col-md-10 offset-md-1">\r\n        <div class="list-group">\r\n          <div class="list-group-item">\r\n            <div class="row">\r\n              <div class="col px-4">\r\n                <div>\r\n                  <h3>Lorem ipsum dolor sit amet</h3>\r\n                  <p class="mb-0">consectetuer adipiscing elit. Aenean commodo ligula eget dolor. Aenean massa. Cum\r\n                    sociis natoque penatibus et magnis dis parturient montes, nascetur ridiculus mus.</p>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        <div class="list-group">\r\n          <div class="list-group-item">\r\n            <div class="row">\r\n              <div class="col px-4">\r\n                <div>\r\n                  <h3>Lorem ipsum dolor sit amet</h3>\r\n                  <p class="mb-0">consectetuer adipiscing elit. Aenean commodo ligula eget dolor. Aenean massa. Cum\r\n                    sociis natoque penatibus et magnis dis parturient montes, nascetur ridiculus mus.</p>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        <div class="list-group">\r\n          <div class="list-group-item">\r\n            <div class="row">\r\n              <div class="col px-4">\r\n                <div>\r\n                  <h3>Lorem ipsum dolor sit amet</h3>\r\n                  <p class="mb-0">consectetuer adipiscing elit. Aenean commodo ligula eget dolor. Aenean massa. Cum\r\n                    sociis natoque penatibus et magnis dis parturient montes, nascetur ridiculus mus.</p>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        <div class="list-group">\r\n          <div class="list-group-item">\r\n            <div class="row">\r\n              <div class="col px-4">\r\n                <div>\r\n                  <h3>Lorem ipsum dolor sit amet</h3>\r\n                  <p class="mb-0">consectetuer adipiscing elit. Aenean commodo ligula eget dolor. Aenean massa. Cum\r\n                    sociis natoque penatibus et magnis dis parturient montes, nascetur ridiculus mus.</p>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        <div class="list-group">\r\n          <div class="list-group-item">\r\n            <div class="row">\r\n              <div class="col px-4">\r\n                <div>\r\n                  <h3>Lorem ipsum dolor sit amet</h3>\r\n                  <p class="mb-0">consectetuer adipiscing elit. Aenean commodo ligula eget dolor. Aenean massa. Cum\r\n                    sociis natoque penatibus et magnis dis parturient montes, nascetur ridiculus mus.</p>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        <div class="list-group">\r\n          <div class="list-group-item">\r\n            <div class="row">\r\n              <div class="col px-4">\r\n                <div>\r\n                  <h3>Lorem ipsum dolor sit amet</h3>\r\n                  <p class="mb-0">consectetuer adipiscing elit. Aenean commodo ligula eget dolor. Aenean massa. Cum\r\n                    sociis natoque penatibus et magnis dis parturient montes, nascetur ridiculus mus.</p>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        <div class="list-group">\r\n          <div class="list-group-item">\r\n            <div class="row">\r\n              <div class="col px-4">\r\n                <div>\r\n                  <h3>Lorem ipsum dolor sit amet</h3>\r\n                  <p class="mb-0">consectetuer adipiscing elit. Aenean commodo ligula eget dolor. Aenean massa. Cum\r\n                    sociis natoque penatibus et magnis dis parturient montes, nascetur ridiculus mus.</p>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div class="list-group-item">\r\n            <div class="row">\r\n              <div class="col px-4">\r\n                <div>\r\n                  <h3>Lorem ipsum dolor sit amet</h3>\r\n                  <p class="mb-0">consectetuer adipiscing elit. Aenean commodo ligula eget dolor. Aenean massa. Cum\r\n                    sociis natoque penatibus et magnis dis parturient montes, nascetur ridiculus mus.</p>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div class="list-group-item">\r\n            <div class="row">\r\n              <div class="col px-4">\r\n                <div>\r\n                  <h3>Lorem ipsum dolor sit amet</h3>\r\n                  <p class="mb-0">consectetuer adipiscing elit. Aenean commodo ligula eget dolor. Aenean massa. Cum\r\n                    sociis natoque penatibus et magnis dis parturient montes, nascetur ridiculus mus.</p>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</section>'},function(n,e,t){var r;n.exports=(r=t(13),function(n){var e=r,t=e.lib,s=t.WordArray,i=t.Hasher,a=e.algo,o=[],c=[];!function(){function e(e){for(var t=n.sqrt(e),r=2;r<=t;r++)if(!(e%r))return!1;return!0}function t(n){return 4294967296*(n-(0|n))|0}for(var r=2,s=0;s<64;)e(r)&&(s<8&&(o[s]=t(n.pow(r,.5))),c[s]=t(n.pow(r,1/3)),s++),r++}();var l=[],d=a.SHA256=i.extend({_doReset:function(){this._hash=new s.init(o.slice(0))},_doProcessBlock:function(n,e){for(var t=this._hash.words,r=t[0],s=t[1],i=t[2],a=t[3],o=t[4],d=t[5],u=t[6],p=t[7],h=0;h<64;h++){if(h<16)l[h]=0|n[e+h];else{var m=l[h-15],f=(m<<25|m>>>7)^(m<<14|m>>>18)^m>>>3,v=l[h-2],g=(v<<15|v>>>17)^(v<<13|v>>>19)^v>>>10;l[h]=f+l[h-7]+g+l[h-16]}var y=r&s^r&i^s&i,w=(r<<30|r>>>2)^(r<<19|r>>>13)^(r<<10|r>>>22),x=p+((o<<26|o>>>6)^(o<<21|o>>>11)^(o<<7|o>>>25))+(o&d^~o&u)+c[h]+l[h];p=u,u=d,d=o,o=a+x|0,a=i,i=s,s=r,r=x+(w+y)|0}t[0]=t[0]+r|0,t[1]=t[1]+s|0,t[2]=t[2]+i|0,t[3]=t[3]+a|0,t[4]=t[4]+o|0,t[5]=t[5]+d|0,t[6]=t[6]+u|0,t[7]=t[7]+p|0},_doFinalize:function(){var e=this._data,t=e.words,r=8*this._nDataBytes,s=8*e.sigBytes;return t[s>>>5]|=128<<24-s%32,t[14+(s+64>>>9<<4)]=n.floor(r/4294967296),t[15+(s+64>>>9<<4)]=r,e.sigBytes=4*t.length,this._process(),this._hash},clone:function(){var n=i.clone.call(this);return n._hash=this._hash.clone(),n}});e.SHA256=i._createHelper(d),e.HmacSHA256=i._createHmacHelper(d)}(Math),r.SHA256)},function(n,e,t){(function(e){var r;n.exports=(r=r||function(n,r){var s;if("undefined"!=typeof window&&window.crypto&&(s=window.crypto),"undefined"!=typeof self&&self.crypto&&(s=self.crypto),"undefined"!=typeof globalThis&&globalThis.crypto&&(s=globalThis.crypto),!s&&"undefined"!=typeof window&&window.msCrypto&&(s=window.msCrypto),!s&&void 0!==e&&e.crypto&&(s=e.crypto),!s)try{s=t(15)}catch(n){}var i=function(){if(s){if("function"==typeof s.getRandomValues)try{return s.getRandomValues(new Uint32Array(1))[0]}catch(n){}if("function"==typeof s.randomBytes)try{return s.randomBytes(4).readInt32LE()}catch(n){}}throw new Error("Native crypto module could not be used to get secure random number.")},a=Object.create||function(){function n(){}return function(e){var t;return n.prototype=e,t=new n,n.prototype=null,t}}(),o={},c=o.lib={},l=c.Base={extend:function(n){var e=a(this);return n&&e.mixIn(n),e.hasOwnProperty("init")&&this.init!==e.init||(e.init=function(){e.$super.init.apply(this,arguments)}),e.init.prototype=e,e.$super=this,e},create:function(){var n=this.extend();return n.init.apply(n,arguments),n},init:function(){},mixIn:function(n){for(var e in n)n.hasOwnProperty(e)&&(this[e]=n[e]);n.hasOwnProperty("toString")&&(this.toString=n.toString)},clone:function(){return this.init.prototype.extend(this)}},d=c.WordArray=l.extend({init:function(n,e){n=this.words=n||[],this.sigBytes=null!=e?e:4*n.length},toString:function(n){return(n||p).stringify(this)},concat:function(n){var e=this.words,t=n.words,r=this.sigBytes,s=n.sigBytes;if(this.clamp(),r%4)for(var i=0;i<s;i++){var a=t[i>>>2]>>>24-i%4*8&255;e[r+i>>>2]|=a<<24-(r+i)%4*8}else for(var o=0;o<s;o+=4)e[r+o>>>2]=t[o>>>2];return this.sigBytes+=s,this},clamp:function(){var e=this.words,t=this.sigBytes;e[t>>>2]&=4294967295<<32-t%4*8,e.length=n.ceil(t/4)},clone:function(){var n=l.clone.call(this);return n.words=this.words.slice(0),n},random:function(n){for(var e=[],t=0;t<n;t+=4)e.push(i());return new d.init(e,n)}}),u=o.enc={},p=u.Hex={stringify:function(n){for(var e=n.words,t=n.sigBytes,r=[],s=0;s<t;s++){var i=e[s>>>2]>>>24-s%4*8&255;r.push((i>>>4).toString(16)),r.push((15&i).toString(16))}return r.join("")},parse:function(n){for(var e=n.length,t=[],r=0;r<e;r+=2)t[r>>>3]|=parseInt(n.substr(r,2),16)<<24-r%8*4;return new d.init(t,e/2)}},h=u.Latin1={stringify:function(n){for(var e=n.words,t=n.sigBytes,r=[],s=0;s<t;s++){var i=e[s>>>2]>>>24-s%4*8&255;r.push(String.fromCharCode(i))}return r.join("")},parse:function(n){for(var e=n.length,t=[],r=0;r<e;r++)t[r>>>2]|=(255&n.charCodeAt(r))<<24-r%4*8;return new d.init(t,e)}},m=u.Utf8={stringify:function(n){try{return decodeURIComponent(escape(h.stringify(n)))}catch(n){throw new Error("Malformed UTF-8 data")}},parse:function(n){return h.parse(unescape(encodeURIComponent(n)))}},f=c.BufferedBlockAlgorithm=l.extend({reset:function(){this._data=new d.init,this._nDataBytes=0},_append:function(n){"string"==typeof n&&(n=m.parse(n)),this._data.concat(n),this._nDataBytes+=n.sigBytes},_process:function(e){var t,r=this._data,s=r.words,i=r.sigBytes,a=this.blockSize,o=i/(4*a),c=(o=e?n.ceil(o):n.max((0|o)-this._minBufferSize,0))*a,l=n.min(4*c,i);if(c){for(var u=0;u<c;u+=a)this._doProcessBlock(s,u);t=s.splice(0,c),r.sigBytes-=l}return new d.init(t,l)},clone:function(){var n=l.clone.call(this);return n._data=this._data.clone(),n},_minBufferSize:0}),v=(c.Hasher=f.extend({cfg:l.extend(),init:function(n){this.cfg=this.cfg.extend(n),this.reset()},reset:function(){f.reset.call(this),this._doReset()},update:function(n){return this._append(n),this._process(),this},finalize:function(n){return n&&this._append(n),this._doFinalize()},blockSize:16,_createHelper:function(n){return function(e,t){return new n.init(t).finalize(e)}},_createHmacHelper:function(n){return function(e,t){return new v.HMAC.init(n,t).finalize(e)}}}),o.algo={});return o}(Math),r)}).call(this,t(14))},function(n,e){var t;t=function(){return this}();try{t=t||new Function("return this")()}catch(n){"object"==typeof window&&(t=window)}n.exports=t},function(n,e){},function(n,e,t){"use strict";t.r(e);var r={js:{headers:{"content-type":"application/javascript; charset=utf-8","Access-Control-Allow-Origin":"*"}},html:{headers:{"content-type":"text/html; charset=utf-8","Access-Control-Allow-Origin":"*"}},json:{headers:{"content-type":"application/json; charset=utf-8","Access-Control-Allow-Origin":"*"}},stream:{headers:{"content-type":"application/octet-stream","Access-Control-Allow-Origin":"*"}},xml:{headers:{"content-type":"application/xml; charset=utf-8","Access-Control-Allow-Origin":"*"}},text:{headers:{"content-type":"text/plain; charset=utf-8","Access-Control-Allow-Origin":"*"}}};var s=async function(n){return new Response(P.renderers.erorr.replace(/::ErrorInfo::/g,n),P.helpers.headers.html)};var i={headers:r,ErrorResponse:s,Router:class{constructor(n){this.event=n,this.request=this.event.request,this.urlObj=new URL(this.request.url),this.pathname=this.urlObj.pathname,this.searchParams=this.urlObj.searchParams,this.method=this.request.method,this.ip=this.request.headers.get("CF-Connecting-IP")||this.request.headers.get("x-real-ip"),this.status={action:0,filterPath:0,auth:0,path:0},this.setStatus=(n,e)=>(this.status[n]=e,this),this.getParam=n=>this.searchParams.get(n),this.get=n=>(this.status.action||this.status.filterPath||"GET"==this.method&&this.pathname.startsWith(n)&&(this.status.filterPath=1,this.status.path=n),this),this.post=n=>(this.status.action||this.status.filterPath||"POST"==this.method&&this.pathname.startsWith(n)&&(this.status.filterPath=1,this.status.path=n),this),this.action=function(n){return this.status.action||this.status.filterPath&&(this.status.action=1,this.run=async()=>await n(this)),this}}},cookie:{set:async function(n,e,t,r="/"){return n.headers.append("Set-Cookie",`${e}=${t}; path=${r};Max-Age=86400`),n},get:async function(n,e){const t=n.headers.get("Cookie");if(!t)return"";const r=e+"=",s=t.indexOf(r);if(-1===s)return"";const i=t.substring(s+r.length,t.length),a=i.indexOf(";");return-1===a?i:i.substring(0,a)}},readRequest:{Body:async function(n){const{headers:e}=n,t=e.get("content-type")||"";if(t.includes("application/json"))return JSON.stringify(await n.json());if(t.includes("application/text"))return await n.text();if(t.includes("text/html"))return await n.text();if(t.includes("form")){const e=await n.formData(),t={};for(const n of e.entries())t[n[0]]=n[1];return JSON.stringify(t)}return await n.blob()}},captcha:{recaptcha:async(n,e,t)=>{let r=await fetch(new Request("https://www.google.com/recaptcha/api/siteverify",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:`secret=${n}&response=${e}&remoteip=${t}`}));return r=await r.json(),!!(r.success&&r.score>=.6)}}},a=t(1),o=t.n(a),c=t(2),l=t.n(c),d=t(3),u=t.n(d),p=t(4),h=t.n(p);const{space_static_version:m,space_cdn:f,space_dns_prefetch:v}=t(5);function g(n){return n=(n=n.replace(/::CDN::/g,f+"/@copoko/space-static@"+m)).replace(/::PRECONNECT::/g,v)}const{dash_nav:y}=t(0);let w="";y.forEach(n=>{w+=t(6)(`./${n}/nav-item.html`)});let x={};y.forEach(n=>{x[n]=function(n){let e=h.a.replace(/::DASH_NAV::/g,w);return e=e.replace(/::DASH_CONTENT::/g,t(9)(`./${n}/content.html`)),e}(n)});var b={erorr:g(o.a),auth:g(l.a),robots:u.a,dash:x};let C=t(12);var A={CheckAuth:async function(n){let e=await P.helpers.readRequest.Body(n.request);e=JSON.parse(e);let t=e.token,r=reCAPTCHA_SERVER,s=n.ip;if(await P.helpers.captcha.recaptcha(r,t,s)){let n=`${C(SpaceName).toString()}::${C(SpacePassword).toString()}`,t=`${C(e.name).toString()}::${C(e.password).toString()}`;if(t==n)return new Response(JSON.stringify({success:1,cookie:"_copoko_space_cookie_auth="+t}),P.helpers.headers.json)}return new Response(JSON.stringify({success:0}),P.helpers.headers.json)},CheckCookieAuth:async function(n){return P.helpers.cookie.get(n.request,"_copoko_space_cookie_auth").then(async n=>{if(n){if(n==`${C(SpaceName).toString()}::${C(SpacePassword).toString()}`)return"PASS"}return await P.helpers.ErrorResponse("NO PERMISSION TO ACCESS THE SERVICE")})},AuthPage:async function(n){return new Response(P.renderers.auth.replace(/::reCAPTCHA_CLIENT::/g,reCAPTCHA_CLIENT),P.helpers.headers.html)}};var S=async function(n){return new Response(P.renderers.robots,P.helpers.headers.text)};function k(n){return new Response(P.renderers.dash[n.status.path.replace("/space/dash/","")],P.helpers.headers.html)}const{dash_nav:_}=t(0);let E={};_.forEach(n=>{E[n]=k});var P={helpers:i,renderers:b,actions:{Auth:A,Robots:S,Dash:E}};var O=async function(n){try{let e=new P.helpers.Router(n);if(e.get("/robots.txt").action(P.actions.Robots),e.get("/"+START).action(P.actions.Auth.AuthPage),e.post("/space/auth").action(P.actions.Auth.CheckAuth),!e.status.action){let t=await P.actions.Auth.CheckCookieAuth(n);if("PASS"!=t)return t;e.setStatus("auth",1)}const{dash_nav:r}=t(0);return r.forEach(n=>{e.get("/space/dash/"+n).action(P.actions.Dash[n])}),e.status.action?await e.run():e.status.auth&&n.request.url!=`https://${n.request.url.split("/")[2]}/space/dash/home`?Response.redirect(`https://${n.request.url.split("/")[2]}/space/dash/home`,302):await P.helpers.ErrorResponse("Ooops...")}catch(n){return await P.helpers.ErrorResponse(n)}};addEventListener("fetch",n=>{n.respondWith(O(n).catch(n=>new Response(n.stack,{status:500})))})}]);